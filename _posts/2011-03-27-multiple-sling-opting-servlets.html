---
layout: post
title: Multiple Sling Opting Servlets,
date: 2011-03-27 21:50:49.000000000 +01:00
type: post
parent_id: '0'
published: true
password: ''
status: publish
categories: []
tags: []
meta:
  _edit_last: '3991311'
  delicious: a:3:{s:5:"count";s:1:"0";s:9:"post_tags";s:0:"";s:4:"time";s:10:"1301262726";}
  reddit: a:2:{s:5:"count";i:0;s:4:"time";i:1345675621;}
author:
  login: iebtfdcouk
  email: ieb@tfd.co.uk
  display_name: Ian
  first_name: Ian
  last_name: Boston
permalink: "/2011/03/27/multiple-sling-opting-servlets/"
---
<p>Sling OptingServlets allow a servlet to be registered to a resource type and decide if its going to handle the resource. This sounds good, except that there is only one slot available per registration. If you have a resource type X, method GET and you want to have 5 Servlets registered to optionaly process requests against resource type X with no selectors and no extensions, then you cant do it.</p>
<p>The solution is to have a single Servlet registered as an Opting servlet per resource type, and have it manage a set of Servlet implementations that opt on that single registration. The only thing that you need to be careful about is to create a service interface that Sling wont pickup and register as a servlet, otherwise the likelihood is it will overwrite your Servlet multiplexer, and with 2 identical registrations of the same request/resource patter, its random which one will be active.</p>
