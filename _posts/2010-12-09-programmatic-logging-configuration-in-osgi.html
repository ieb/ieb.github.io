---
layout: post
title: Programmatic Logging Configuration in OSGi
date: 2010-12-09 14:33:41.000000000 +00:00
type: post
parent_id: '0'
published: true
password: ''
status: publish
categories: []
tags: []
meta:
  _edit_last: '3991311'
  _wp_old_slug: ''
  delicious: a:3:{s:5:"count";s:1:"0";s:9:"post_tags";s:0:"";s:4:"time";s:10:"1300788802";}
  reddit: a:2:{s:5:"count";i:0;s:4:"time";i:1435670836;}
author:
  login: iebtfdcouk
  email: ieb@tfd.co.uk
  display_name: Ian
  first_name: Ian
  last_name: Boston
permalink: "/2010/12/09/programmatic-logging-configuration-in-osgi/"
---
<p>Although you can configure Logging via configuration files and admin consoles in OSGi, Sling/Felix in this instance, can you do it programatically. First, why would you want to. Well you might have a bundle, embedding a sub component where the logging verbosity is more than you want in the main logs. Obviously you can configure this bundle by adding config files, but thats not so easy if the config is outside the bundle, and you might want to put the logging configuration under the control of bundle itself on activation. Â In Sling Logging is configured by via a Factory, which you can get hold of via the ConfigurationAdmin service provided by OSGi.</p>
<pre>
Configuration logConfiguration = configurationAdmin.createFactoryConfiguration("org.apache.sling.commons.log.LogManager.factory.config", null);
Dictionary&lt;String, Object&gt; loggingProperties = new Hashtable&lt;String, Object&gt;();
loggingProperties.put("pid", this.getClass().getName());
loggingProperties.put("org.apache.sling.commons.log.level", "INFO");
loggingProperties.put("org.apache.sling.commons.log.file", "logs/solr.log");
loggingProperties.put("org.apache.sling.commons.log.names", "org.apache.solr");
logConfiguration.update(loggingProperties);
</pre>
