---
layout: post
title: Development and Testing cluster up
date: 2007-08-29 01:30:34.000000000 +01:00
type: post
parent_id: '0'
published: true
password: ''
status: publish
categories: []
tags: []
meta: {}
author:
  login: iebtfdcouk
  email: ieb@tfd.co.uk
  display_name: Ian
  first_name: Ian
  last_name: Boston
permalink: "/2007/08/29/development-and-testing-cluster-up/"
---
<p>I used to do Sakai cluster testing with multiple tomcat instances on the same box, and share the ports. This is Ok, but when 5 developers try to do the same thing on the same box you soon run out of meaningful port numbers, and a careless killall can bin a few hours worth of testing.</p>
<p>Hence the current interest in virtualisation in this blog. Well the cluster is now up and running, after getting rid of some problems with inconsistent arp responses. Each root partition contains java maven and tomcat and not much else. The source is built on a seperate server in a shared NFS mounted home directory and then with a few simple sshÂ  scripts the cluster nodes are updated automatically from that central location. This makes it much easier to restart the cluster and redeploy or reconfigure the cluster. Shared filesystem for content and search is provided by a NFS file system, and the MySQL instance runs on the same central box.<br />
This is probably nothing like a production environment, but the aims are slightly different as the update cycle needs the same as for a single node developer environment. So far its working well, virtualisation is providing good separation between the cluster nodes, making good use of the resources and its easy to manage the root images on LVM with scripts. Recreating a new node now only takes a few minutes.</p>
<p>I havent tried yet, but I suspect the kernel and / filesystem required to bring java / tomcat up is very small.</p>
