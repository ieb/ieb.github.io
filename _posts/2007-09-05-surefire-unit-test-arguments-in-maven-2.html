---
layout: post
title: Surefire Unit Test arguments in Maven 2
date: 2007-09-05 23:26:18.000000000 +01:00
type: post
parent_id: '0'
published: true
password: ''
status: publish
categories: []
tags: []
meta: {}
author:
  login: iebtfdcouk
  email: ieb@tfd.co.uk
  display_name: Ian
  first_name: Ian
  last_name: Boston
permalink: "/2007/09/05/surefire-unit-test-arguments-in-maven-2/"
---
<p>To make the surefire plugin to maven2 operate in a seperate jvm instance, and have different jvm args (eg more memory, or profiler) you can change the way in which the unit tests are launched.</p>
<pre>
<code class="prettyprint">
 &lt;plugins&gt;
      &lt;plugin&gt;
        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;
        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;
        &lt;configuration&gt;
          &lt;forkMode&gt;pertest&lt;/forkMode&gt;
          &lt;argLine&gt;${maven.test.jvmargs}&lt;/argLine&gt;
        &lt;/configuration&gt;
      &lt;/plugin&gt;
    &lt;/plugins&gt;
</code>
</pre>
<p>Then you will need to set ${maven.test.jvmargs} in the properties area to keep maven going.</p>
<pre>
<code class="prettyprint">
&lt;properties&gt;
	&lt;deploy.target/&gt;
	&lt;maven.test.jvmargs&gt;&lt;/maven.test.jvmargs&gt;
&lt;/properties&gt;
</code>
</pre>
<p>and finally to run</p>
<pre class="prettyprint">
mvn  -Dtest=SearchSoak -Dmaven.test.jvmargs='-agentlib:yjpagent -Xmx128m' test
</pre>
<p>Some time the maven.junit.jvmargs parameter might appear in maven 2 as it did in maven 1 ?</p>
