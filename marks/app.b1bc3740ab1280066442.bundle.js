webpackJsonp([1],{BObV:function(t,n,a){"use strict";var o=a("DBNg");t.exports=function(){function t(t){t===v.polarName&&void 0!==v.polarName||a(t,function(a,o){if(void 0!==o)try{n(a,o)}catch(t){console.error("Error processing polar ",t)}else console.error("Error processing polar ",t,e)})}function n(t,e){if(e.twa.length!==e.stw.length)throw"Polar STW does not have enough rows for the TWA array. Expected:"+e.twa.length+" Found:"+e.stw.length;for(var n=0;n<e.stw.length;n++)if(e.tws.length!==e.stw[n].length)throw"Polar STW row "+n+" does not ave enough columns Expected:"+e.tws.length+" Found:"+e.stw.length;for(var n=1;n<e.twa.length;n++)if(e.twa[n]<e.twa[n-1])throw"Polar TWA must be in ascending order and match the columns of stw.";for(var n=1;n<e.tws.length;n++)if(e.tws[n]<e.tws[n-1])throw"Polar TWA must be in ascending order and match the rows of stw.";e=g(e),v.polar=e,v.polarName=t,console.log("Resolved and loaded ",t)}function a(t,e){e(t,o.polars[t])}function r(t,e){for(var n=-1,a=0;a<t.length;a++)if(t[a]>e){n=a;break}return 0===n?[n,n]:-1===n?[t.length-1,t.length-1]:[n-1,n]}function i(t,e,n,a,o){return t>=n?o:t<=e?a:n-e<1e-8?a+(t-e)/1e-8*(o-a):a+(t-e)/(n-e)*(o-a)}function l(t){return 3600*t/1852}function s(t){return 1852*t/3600}function c(t){return 180*t/Math.PI}function d(t){return t*Math.PI/180}function u(t){return t>2*Math.PI&&(t-=2*Math.PI),t<0&&(t+=2*Math.PI),t}function h(t,e){var n=[];if(t.lookup)for(var a=r(t.tws,e),o=0;o<t.twa.length;o++)n.push({twa:t.twa[o],stw:t.stw[o][a[1]]});else for(var i=0;i<Math.PI;i+=Math.PI/50)n.push({twa:i,stw:p(t,e,i,0).polarSpeed});return n}function p(t,e,n,a,o){var u={vmg:0,polarVmg:0,polarSpeed:0,polarSpeedRatio:1,polarVmgRatio:1};t.siunits||(e=l(e),n=c(n)),n<0&&(n=-n);var h=r(t.tws,e),p=r(t.twa,n);if(t.lookup)u.polarSpeed=t.stw[p[1]][h[1]];else{(h[0]>=t.stw[0].length||h[1]>=t.stw[0].length)&&console.log("ERROR TWSI==============================================================================="),(p[0]>=t.stw.length||p[0]>=t.stw.length)&&console.log("ERROR TWAI===============================================================================");var g=i(n,t.twa[p[0]],t.twa[p[1]],t.stw[p[0]][h[0]],t.stw[p[1]][h[0]]),w=i(n,t.twa[p[0]],t.twa[p[1]],t.stw[p[0]][h[1]],t.stw[p[1]][h[1]]);u.polarSpeed=i(e,t.tws[h[0]],t.tws[h[1]],g,w)}return t.siunits||(n=d(n),u.polarSpeed=s(u.polarSpeed)),0!==u.polarSpeed&&(u.polarSpeedRatio=a/u.polarSpeed),u.polarVmg=u.polarSpeed*Math.cos(n),u.vmg=a*Math.cos(n),void 0!==o&&Math.abs(o.vmg)>1e-8&&(u.polarVmgRatio=u.vmg/o.vmg),u}function g(t){var e={lookup:!0,siunits:!0,twsstep:.1,twastep:1,tws:[],twa:[],stw:[]},n=Date.now();console.log("Starting fine polar");for(var a=0;a<t.twa[t.twa.length-1];a+=1)e.twa.push(d(a)),e.stw.push([]);for(var o=0;o<t.tws[t.tws.length-1];o+=.1)e.tws.push(s(o));for(var r=0;r<e.twa.length;r++)for(var i=0;i<e.tws.length;i++)e.stw[r][i]=p(t,e.tws[i],e.twa[r],0).polarSpeed;return console.log("Finished fine polar build, in SI units ",Date.now()-n,"ms"),e}function w(t,e,n){var a=n;n<0&&(n=-n);var o=0,r=Math.PI;n<Math.PI/2?r=Math.PI/2:o=Math.PI/2;for(var i={vmg:0,twa:0,stw:0,upwind:0===o},l=o;l<=r;l+=Math.PI/180){var s=p(t,e,l,0),c=s.polarSpeed*Math.cos(l);Math.abs(c)>Math.abs(i.vmg)&&(i.vmg=c,i.twa=l,i.stw=s.polarSpeed)}return a<0&&(i.twa=-i.twa),i}function m(t,e,n,a,o,r,i,l){var s={trackTrue:0,trackMagnetic:0,headingTrue:0,headingMagnetic:0};void 0===l&&(l=0);var c=u(r+a);return s.headingTrue=u(c+e.twa),s.trackTrue,s.headingTrue,s.trackMagnetic=s.trackTrue+i,s.headingMagnetic=s.headingTrue+i,s}function f(t,e,n,a,o){var r=Math.cos(t)*e,i=Math.sin(t)*e;return{twa:Math.atan2(i,-n+r),tws:Math.sqrt(Math.pow(i,2)+Math.pow(-n+r,2)),hdt:u(a-o)}}var v={group:"performance",optionKey:"polarPerformance",title:"Polar Performance using based on aws, awa, stw, hdm and variation",derivedFrom:["environment.wind.angleApparent","environment.wind.speedApparent","navigation.speedThroughWater","navigation.headingMagnetic","navigation.magneticVariation"],availablePolars:Object.keys(o.polars),init:function(e){t(e)},performanceForSpeed:function(t){return h(v.polar,t)},calc:function(t,e){var n=w(v.polar,t,e),a=p(v.polar,t,e,0);return n.upwind?Math.abs(e)>Math.abs(n.twa)&&(n.twa=e,n.stw=a.polarSpeed):Math.abs(e)<Math.abs(n.twa)&&(n.twa=e,n.stw=a.polarSpeed),{targets:{vmg:n.vmg,stw:n.stw,twa:n.twa,tws:t,upwind:n.upwind},stw:a.polarSpeed,twa:e,tws:t}},calculator:function(t,e,n,a,o){try{var r=f(t,e,n,a,o),i=w(v.polar,r.tws,r.twa),l=p(v.polar,r.tws,r.twa,n,i),s=m(l,i,r.tws,r.twa,n,r.hdt,o);return[{path:"performance.polarSpeed",value:l.polarSpeed},{path:"performance.polarSpeedRatio",value:l.polarSpeedRatio},{path:"performance.tackMagnetic",value:s.trackMagnetic},{path:"performance.tackTrue",value:s.trackTrue},{path:"performance.headingMagnetic",value:s.headingMagnetic},{path:"performance.headingTrue",value:s.headingTrue},{path:"performance.targetAngle",value:i.twa},{path:"performance.targetSpeed",value:i.stw},{path:"performance.targetVelocityMadeGood",value:i.vmg},{path:"performance.velocityMadeGood",value:l.vmg},{path:"performance.polarVelocityMadeGoodRatio",value:l.polarVmgRatio},{path:"environment.wind.angleTrueWater",value:r.twa},{path:"environment.wind.speedTrue",value:r.tws},{path:"navigation.headingTrue",value:r.hdt}]}catch(t){console.log(t)}}};return v}},DBNg:function(t,e){t.exports={polars:{"j109-150jib-120spin":{name:"j109-150jib-120spin",tws:[6,8,10,12,14,16,20],twa:[20,37,38,39,40,41,42,44,45,52,60,70,75,80,90,110,120,135,150,165,180],stw:[[.1,.1,.1,.1,.1,.1,.1],[.5,.5,.5,.5,.5,.5,.5],[3.73,5.34,6.09,6.24,6.46,6.56,6.61],[4,5.47,6.12,6.31,6.49,6.61,6.66],[4.25,5.57,6.15,6.37,6.57,6.67,6.72],[4.47,5.67,6.19,6.43,6.63,6.72,6.78],[4.67,5.76,6.32,6.49,6.68,6.78,6.83],[4.85,5.85,6.43,6.61,6.79,6.89,6.95],[5.02,5.91,6.49,6.67,6.85,6.95,7],[5.54,6.47,6.88,7.11,7.25,7.33,7.4],[5.93,6.79,7.17,7.38,7.52,7.61,7.69],[6.2,6.99,7.41,7.64,7.79,7.9,8.02],[6.26,7.03,7.48,7.75,7.91,8.03,8.17],[6.28,7.05,7.52,7.83,8.02,8.15,8.31],[6.53,7.29,7.63,7.87,8.16,8.37,8.59],[6.51,7.31,7.82,8.19,8.43,8.65,8.75],[6.23,7.12,7.71,8.19,8.61,8.94,9.46],[5.43,6.59,7.28,7.8,8.28,8.76,9.79],[4.32,5.52,6.48,7.12,7.62,8.07,8.99],[3.5,4.6,5.6,6.46,7.08,7.57,8.44],[3.23,4.27,5.23,6.11,6.8,7.32,8.18]]},"j109-150jib":{name:"j109-150jib",tws:[6,8,10,12,14,16,20],twa:[20,37,38,39,40,41,42,44,45,52,60,70,75,80,90,110,120,135,150,165,180],stw:[[.1,.1,.1,.1,.1,.1,.1],[.5,.5,.5,.5,.5,.5,.5],[3.73,5.34,6.09,6.24,6.46,6.56,6.61],[4,5.47,6.12,6.31,6.49,6.61,6.66],[4.25,5.57,6.15,6.37,6.57,6.67,6.72],[4.47,5.67,6.19,6.43,6.63,6.72,6.78],[4.67,5.76,6.32,6.49,6.68,6.78,6.83],[4.85,5.85,6.43,6.61,6.79,6.89,6.95],[5.02,5.91,6.49,6.67,6.85,6.95,7],[5.54,6.47,6.88,7.11,7.25,7.33,7.4],[5.93,6.79,7.17,7.38,7.52,7.61,7.69],[6.2,6.99,7.41,7.64,7.79,7.9,8.02],[6.26,7.03,7.48,7.75,7.91,8.03,8.17],[6.28,7.05,7.52,7.83,8.02,8.15,8.31],[6.22,7.02,7.49,7.87,8.16,8.37,8.59],[5.54,6.51,7.06,7.47,7.83,8.16,8.75],[4.86,5.95,6.67,7.15,7.53,7.88,8.54],[3.81,4.91,5.86,6.58,7.1,7.51,8.24],[3.31,4.36,5.32,6.16,6.8,7.28,8.07],[3.1,4.1,5.03,5.89,6.59,7.11,7.92],[2.91,3.87,4.76,5.59,6.33,6.89,7.71]]},"j109-ODjib-ODSpin":{name:"j109-ODjib-ODSpin",tws:[6,8,10,12,14,16,20],twa:[20,37,39,40,41,42,43,44,52,60,70,75,80,90,110,120,135,150,165,180],stw:[[.1,.1,.1,.1,.1,.1,.1],[.5,.5,.5,.5,.5,.5,.5],[4,4.7,5,6,6.458,6.533,6.593],[4.1,5,5.2,6.339,6.5,6.6,6.65],[4.2,5.1,5.5,6.4,6.55,6.65,6.7],[4.3,5.2,6.143,6.45,6.6,6.7,6.75],[4.5,5.66,6.2,6.5,6.65,6.75,6.8],[4.733,5.7,6.3,6.6,6.7,6.8,6.85],[5.244,6.279,6.82,7.064,7.213,7.306,7.379],[5.602,6.58,7.09,7.349,7.496,7.594,7.688],[5.851,6.766,7.268,7.596,7.778,7.892,8.025],[5.905,6.942,7.303,7.489,7.621,7.724,7.868],[6.174,7.093,7.426,7.699,7.98,8.154,8.337],[6.482,7.275,7.628,7.847,8.011,8.278,8.627],[6.454,7.277,7.805,8.193,8.454,8.671,9.067],[6.173,7.086,7.676,8.17,8.599,8.956,9.499],[5.378,6.548,7.243,7.767,8.247,8.719,9.753],[4.285,5.477,6.442,7.091,7.588,8.038,8.946],[3.475,4.571,5.57,6.43,7.058,7.547,8.413],[3.232,4.275,5.243,6.121,6.813,7.334,8.196]]},"j109-ODjib":{name:"j109-ODjib",tws:[6,8,10,12,14,16,20],twa:[20,37,39,40,41,42,43,44,52,60,70,75,80,90,110,120,135,150,165,180],stw:[[.1,.1,.1,.1,.1,.1,.1],[.5,.5,.5,.5,.5,.5,.5],[4,4.7,5,6,6.458,6.533,6.593],[4.1,5,5.2,6.339,6.5,6.6,6.65],[4.2,5.1,5.5,6.4,6.55,6.65,6.7],[4.3,5.2,6.143,6.45,6.6,6.7,6.75],[4.5,5.66,6.2,6.5,6.65,6.75,6.8],[4.733,5.7,6.3,6.6,6.7,6.8,6.85],[5.244,6.279,6.82,7.064,7.213,7.306,7.379],[5.602,6.58,7.09,7.349,7.496,7.594,7.688],[5.851,6.766,7.268,7.596,7.778,7.892,8.025],[5.905,6.942,7.303,7.489,7.621,7.724,7.868],[5.92,6.818,7.325,7.699,7.98,8.154,8.337],[5.836,6.755,7.279,7.667,7.998,8.278,8.627],[5.089,6.159,6.818,7.263,7.63,7.968,8.591],[4.474,5.578,6.414,6.954,7.359,7.712,8.371],[3.617,4.7,5.642,6.414,6.958,7.377,8.097],[3.201,4.226,5.16,5.998,6.662,7.151,7.919],[2.999,3.978,4.89,5.727,6.446,6.987,7.792],[2.999,3.978,4.89,5.727,6.446,6.987,7.792]]},"j109-ODSpin":{name:"j109-ODSpin",tws:[6,8,10,12,14,16,20],twa:[20,37,60,70,75,80,90,110,120,135,150,165,180],stw:[[.1,.1,.1,.1,.1,.1,.1],[.5,.5,.5,.5,.5,.5,.5],[4.698,5.944,6.672,6.93,7.074,7.171,7.269],[5.562,6.722,7.15,7.343,7.469,7.564,7.687],[5.905,6.942,7.303,7.489,7.621,7.724,7.868],[6.174,7.093,7.426,7.619,7.759,7.873,8.04],[6.482,7.275,7.628,7.847,8.011,8.15,8.372],[6.454,7.277,7.805,8.193,8.454,8.671,9.067],[6.173,7.086,7.676,8.17,8.599,8.956,9.499],[5.378,6.548,7.243,7.767,8.247,8.719,9.753],[4.285,5.477,6.442,7.091,7.588,8.038,8.946],[3.475,4.571,5.57,6.43,7.058,7.547,8.413],[3.232,4.275,5.243,6.121,6.813,7.334,8.196]]},pogo1250:{name:"pogo1250",tws:[0,4,6,8,10,12,14,16,20,25,30,35,40,45,50,55,60],twa:[0,5,10,15,20,25,32,36,40,45,52,60,70,80,90,100,110,120,130,140,150,160,170,180],stw:[[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,.4,.6,.8,.9,1,1,1,1.1,1.1,1.1,1.1,.1,.1,.1,0,0],[0,.8,1.2,1.6,1.8,2,2,2.1,2.1,2.2,2.2,2.2,.5,.2,.2,0,0],[0,1.2,1.8,2.4,2.7,2.9,3,3.1,3.2,3.3,3.3,3.3,1.2,.5,.3,0,0],[0,1.4,2.1,2.7,3.1,3.4,3.5,3.6,3.6,3.7,3.8,3.7,1.7,.7,.4,0,0],[0,1.7,2.5,3.2,3.7,4,4.1,4.3,4.3,4.4,4.5,4.4,2.6,1.1,.4,0,0],[0,2.8,4.2,5.4,6.2,6.7,6.9,7.1,7.2,7.4,7.5,7.4,5.6,2.2,.7,0,0],[0,3.1,4.7,5.9,6.7,7,7.2,7.4,7.6,7.8,7.9,7.9,6.5,2.6,.8,0,0],[0,3.5,5.1,6.3,7,7.3,7.5,7.7,7.9,8.1,8.2,8.3,7.4,2.9,1.2,0,0],[0,3.8,5.6,6.7,7.3,7.6,7.8,8,8.2,8.4,8.5,8.6,8.2,3,1.3,0,0],[0,4.2,6,7,7.7,8,8.2,8.3,8.6,8.9,9,9.1,8.9,3.2,1.4,0,0],[0,4.6,6.3,7.3,8,8.3,8.5,8.7,9,9.3,9.5,9.6,9.6,3.8,1.9,0,0],[0,4.8,6.6,7.5,8.2,8.6,8.9,9.1,9.5,9.8,10.1,10.4,10.4,4.2,2.1,0,0],[0,5,6.9,7.9,8.3,8.8,9.2,9.4,9.9,10.4,10.9,11.3,11.3,4.5,2.3,0,0],[0,5.3,7.1,8.1,8.6,8.9,9.3,9.7,10.4,11.1,11.8,12.5,12.5,5.6,3.1,.6,.6],[0,5.4,7.1,8.2,8.8,9.2,9.5,9.9,10.9,11.9,12.8,14.1,14.1,7.1,4.2,.7,.7],[0,5.3,7,8.1,8.8,9.4,9.8,10.3,11.2,12.7,14.3,15,15,8.3,5.3,1.5,1.5],[0,5,6.8,7.8,8.6,9.4,10,10.6,11.8,13.2,14.9,15.7,15.7,9.4,6.3,1.6,1.6],[0,4.5,6.3,7.4,8.3,9,9.8,10.6,12.3,14.4,15.6,16.6,16.6,10.8,7.5,2.5,2.5],[0,3.8,5.6,6.9,7.8,8.5,9.2,10,12.2,15,16.3,17.6,17.6,13.2,9.7,3.5,2.6],[0,3.2,4.8,6.1,7.1,7.9,8.6,9.3,10.9,14.4,16.8,18.6,18.6,14.9,11.2,3.7,3.7],[0,2.7,4.1,5.3,6.4,7.3,8,8.7,10,12.4,15.4,17.9,17.9,15.2,11.6,4.5,3.6],[0,2.4,3.6,4.8,5.9,6.8,7.6,8.2,9.4,11.4,14.3,16.6,16.6,15.8,12.5,5,4.2],[0,2.2,3.3,4.4,5.5,6.4,7.2,7.9,9,10.6,12.8,15.4,15.4,15.4,12.3,4.6,3.9]]}}}},GcMe:function(t,e,n){var a=n("y4E4");"string"==typeof a&&(a=[[t.i,a,""]]);var o={hmr:!0};o.transform=void 0;n("MTIv")(a,o);a.locals&&(t.exports=a.locals)},Ki9h:function(t,e){t.exports=[["name","desc","sym","lat","lon"],["1A","Peveril Ledge","R","50.60683333","-1.935"],["1B","Poole Bar No 1","G","50.65483333","-1.919"],["1C","MS Amlin","Y","50.67183333","-1.900333333"],["1E","Christchurch Ledge Buoy","Y","50.69166667","-1.693333333"],["1F","Needles Fairway","RW","50.63733333","-1.649666667"],["1G","South West Shingles","R","50.65483333","-1.625333333"],["1H","Bridge","YBY","50.6605","-1.614666667"],["1J","Shingles Elbow","R","50.67283333","-1.600833333"],["1K","North Head","G","50.7115","-1.592"],["1L","Needles Lighthouse","RW","50.66216667","-1.591666667"],["1M","Warden","G","50.69133333","-1.559166667"],["1N","North East Shingles","BYB","50.69933333","-1.556833333"],["2A","Hurst","Y","50.71316667","-1.542166667"],["2B","Dunford","Y","50.723","-1.525666667"],["2C","Colten","Y","50.7305","-1.514333333"],["2F","Berthon","Y","50.73666667","-1.487"],["2H","“H”","Y","50.73833333","-1.469333333"],["2J","Zwerver","Y","50.75183333","-1.455666667"],["2K","1851 Trust","Y","50.74716667","-1.434833333"],["2R","Powder Byrne","Y","50.75716667","-1.4315"],["2T","Lymington Bank","R","50.71833333","-1.514166667"],["2X","Solent Bank","R","50.73716667","-1.456166667"],["20","Sconce","BY","50.70883333","-1.523833333"],["21","Black Rock","G","50.7095","-1.509833333"],["22","Charles Stanley Wealth Managers","Y","50.71433333","-1.49"],["24","The English Summer Berry Co","Y","50.71433333","-1.473666667"],["25","Caldwells Estate Agents","Y","50.71916667","-1.458166667"],["26","Hamstead Ledge","G","50.73116667","-1.436333333"],["27","Alitex","Y","50.71616667","-1.469333333"],["3A","West Lepe","R","50.754","-1.4015"],["3B","Newtown East","Y","50.73633333","-1.3965"],["3C","craftinsure.com","Y","50.76066667","-1.385333333"],["3D","Salt Mead","G","50.74183333","-1.384"],["3E","Dick Johnson","Y","50.76883333","-1.369833333"],["3F","elephantboatyard.co.uk","Y","50.74383333","-1.364666667"],["3G","Sevenstar Yacht Transport","Y","50.77633333","-1.357666667"],["3H","East Lepe","R","50.7655","-1.351166667"],["3K","Lepe Spit","YB","50.77966667","-1.344"],["3L","Gurnard Ledge","G","50.7585","-1.343166667"],["3N","Quinnell","Y","50.7845","-1.331333333"],["3P","Cowes Yacht Haven","Y","50.76133333","-1.333"],["3Q","East Bay","Y","50.76616667","-1.324166667"],["3R","North East Gurnard","R","50.78433333","-1.323666667"],["3S","Royal Thames","Y","50.79683333","-1.320833333"],["3T","KMS","Y","50.76833333","-1.3145"],["3U","Gurnard","BY","50.77033333","-1.314"],["3V","West Bramble","YBY","50.78666667","-1.310833333"],["3W","Williams Shipping","Y","50.78666667","-1.309166667"],["3X","Party","Y","50.76833333","-1.307166667"],["3Y","West Knoll","Y","50.7905","-1.297333333"],["3Z","Trinity House Buoy","Y","50.77183333","-1.295833333"],["30","RORC","Y","50.78533333","-1.295333333"],["31","South Bramble","G","50.783","-1.295333333"],["33","Prince Consort","BY","50.7735","-1.292666667"],["39","Snowden","Y","50.77","-1.295833333"],["4B","Coronation","Y","50.82583333","-1.293666667"],["4C","Rigit UK Rigging","Y","50.82016667","-1.291"],["4E","Mike Till","Y","50.7945","-1.283333333"],["4F","Deloitte Sailing Club","Y","50.78666667","-1.283333333"],["4G","Cutter","Y","50.82416667","-1.281833333"],["4H","East Knoll","G","50.79933333","-1.2805"],["4J","hamblewinterseries.com","Y","50.8105","-1.2775"],["4K","Royal London YC","Y","50.76916667","-1.2775"],["4L","William","Y","50.81716667","-1.274833333"],["4M","Hill Head","R","50.80116667","-1.266666667"],["4N","QXI International","Y","50.78783333","-1.265"],["4P","West Ryde Middle","YBY","50.77466667","-1.263166667"],["4Q","Robin Culpan","Y","50.80766667","-1.262"],["4R","Darling Buoy","Y","50.81966667","-1.261833333"],["4S","Royal Southern","Y","50.81466667","-1.2595"],["4T","Norris","R","50.76616667","-1.2585"],["4U","Fever Tree","Y","50.77383333","-1.2515"],["4V","Hamble Yacht Services","Y","50.80216667","-1.244"],["4W","Goodall Roofing","Y","50.78883333","-1.243166667"],["4X","Colette","Y","50.75883333","-1.239833333"],["4Y","North Ryde Middle","R","50.77683333","-1.2385"],["4Z","South Ryde Middle","G","50.76883333","-1.236"],["40","Fastnet Insurance","Y","50.79433333","-1.2275"],["41","East Bramble","BYB","50.78716667","-1.227333333"],["42","Peel Bank","R","50.75816667","-1.2225"],["43","Wightlink","Y","50.76933333","-1.218166667"],["44","Royal Yacht Squadron","Y","50.7885","-1.201666667"],["45","South East Ryde Middle","YB","50.7655","-1.201666667"],["46","North East Ryde Middle","R","50.77016667","-1.198"],["47","Maraval","Y","50.795","-1.254166667"],["5A","Quarr","Y","50.7505","-1.198166667"],["5B","Motherbank","R","50.75816667","-1.186833333"],["5C","Browndown","G","50.77616667","-1.1825"],["5D","Kemps Quay","Y","50.753","-1.160833333"],["5E","Darling Associates Architects","Y","50.771","-1.146"],["5F","North Sturbridge","BY","50.7555","-1.137166667"],["5G","RNC & RAYC","Y","50.77366667","-1.131666667"],["5J","KB Dry Stack","Y","50.77683333","-1.1215"],["5M","Gleeds","Y","50.7685","-1.108666667"],["5Q","Outer Spit","YB","50.75733333","-1.091"],["5R","Horse Sand Buoy","G","50.75883333","-1.087833333"],["5S","Saddle Buoy","G","50.75166667","-1.0825"],["50","Stokes Bay SC West","Y","50.78016667","-1.173333333"],["51","Stokes Bay SC Central","Y","50.77666667","-1.164166667"],["6A","No Man’s Land Fort","B","50.74","-1.095"],["6B","Horse Sand Fort","B","50.75016667","-1.072333333"],["6C","Warner","R","50.73116667","-1.0665"],["6D","Horse Elbow","G","50.73766667","-1.064666667"],["6E","West Princessa","YBY","50.66933333","-1.060833333"],["6F","Bembridge Ledge Buoy","BYB","50.68583333","-1.046833333"],["6G","St Helens Buoy","R","50.72266667","-1.040166667"],["6H","Dean Elbow","G","50.72816667","-1.031333333"],["6J","Nab East","R","50.71433333","-1.013333333"],["6K","Horse Tail","G","50.7205","-1.003833333"],["6L","Winner","YB","50.75166667","-1.001666667"],["6M","Nab End","R","50.7105","-0.9915"],["6N","Dean Tail","G","50.7165","-0.9861666667"],["6P","New Grounds","BYB","50.69733333","-0.9748333333"],["6R","Nab Tower","B","50.668","-0.9525"],["6S","Outer Nab No 2","BYB","50.6405","-0.9616666667"],["8S","Laid mark 8S","B","50.762","-1.249166667"],["8X","Laid mark 8X","B","50.79116667","-1.215"],["8Y","Laid mark 8Y","B","50.78333333","-1.188333333"],["8H","Laid mark 8H","B","50.73","-1.487"],["8J","Laid mark 8J","B","50.75333333","-1.416666667"],["8K","Laid mark 8K","B","50.74833333","-1.361666667"],["8A","Lendy Alpha","Y","50.7715","-1.302166667"],["8B","Lendy Beta","O","50.77","-1.302166667"],["8G","Lendy Gamma","Y","50.77083333","-1.293666667"],["8D","Lendy Delta","Y","50.77183333","-1.281666667"],["80","RYS Flagstaff","Y","50.76673333","-1.300916667"],["84","Breakwater Committee Boat","n/a","50.76983333","-1.294333333"],["01","TEST1","R","52.188020","0.120092"],["02","TEST2","G","52.188005","0.120341"],["03","TEST3","G","52.188179","0.120269"],["04","TEST4","R","52.187967","0.120076"],["05","TEST5","G","52.187826","0.120561"],["06","TEST6","G","52.187943","0.120861"],[""]]},QyWg:function(t,e,n){var a=n("RUCK");"string"==typeof a&&(a=[[t.i,a,""]]);var o={hmr:!0};o.transform=void 0;n("MTIv")(a,o);a.locals&&(t.exports=a.locals)},RUCK:function(t,e,n){e=t.exports=n("FZ+f")(!1),e.push([t.i,".course tr:nth-child(even) {background: #CCC}\n.course tr:nth-child(odd) {background: #FFF}\n.course table {\n    margin-bottom: 10px;\n    border-spacing: 0px;\n}\n.course table.marks tr:nth-child(odd) {\n    background: #faedd9\n}\n.course table.route tr:nth-child(odd) {\n    background: #dbf4db\n}\n.course tr {\n    padding:  0 0px;\n}\n.course td {\n    margin: 1px;\n}\n.course .headding {\n    font-size: 1.1em;\n}\n\n.course div > span {\n    padding-left: 10px;\n}\n",""])},SSVj:function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function l(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,n,a){return n&&t(e.prototype,n),a&&t(e,a),e}}(),c=n("GiK3"),d=a(c),u=n("o8UL"),h=a(u),p=n("lSz5"),g=a(p),w=n("omrO"),m=a(w),f=n("45oD"),v=n("u2fu"),b=a(v);n("QyWg");var y=b.default.swiftConverter("rad","deg"),k=b.default.swiftConverter("m","nmi"),x=b.default.swiftConverter("m/s","kn"),S={course:"cowes2018Course",gwd:"cowes2018gwd",gws:"cowes2018gws",gdc:"cowes2018currentDirection",gcs:"cowes2018current",gv:"cowes2018Gybeangle",tv:"cowes2018Tackangle",pn:"cowes2018polarname",id:"cowes2018nextmarkidx"},P=function(t){function e(t){var n;r(this,e);var a=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));a.props=t,a.stateLiseners=[],a.track=new g.default,a.loadHash(),a.coursePlan=new m.default({gwd:(+window.localStorage.cowes2018gwd||0)*Math.PI/180,course:window.localStorage.cowes2018Course||"",markradius:window.localStorage.cowes2018Markradius||0,tackvmgangle:(+window.localStorage.cowes2018Tackangle||42)*Math.PI/180,gybevmgangle:(+window.localStorage.cowes2018Gybeangle||142)*Math.PI/180,gws:.514444*(+window.localStorage.cowes2018gws||0),current:.514444*(+window.localStorage.cowes2018current||0),currentDirection:(+window.localStorage.cowes2018currentDirection||0)*Math.PI/180,polarName:window.localStorage.cowes2018polarname||"pogo1250",nextmarkidx:window.localStorage.cowes2018nextmarkidx||0}),a.bouys={BY:"N BY",BYB:"E BYB",YB:"S YB",YBY:"W YBY"},a.state=(n={polarName:a.coursePlan.polarName,gwd:a.coursePlan.gwd,gwdInput:180*a.coursePlan.gwd/Math.PI,gws:a.coursePlan.gws,gwsInput:a.coursePlan.gws/.514444,twd:a.coursePlan.twd,tws:a.coursePlan.tws,current:a.coursePlan.current,currentInput:a.coursePlan.current/.514444,currentDirection:a.coursePlan.currentDirection,currentDirectionInput:180*a.coursePlan.currentDirection/Math.PI,course:a.coursePlan.course,markradius:a.coursePlan.markradius,tackvmgangle:a.coursePlan.tackvmgangle,tackvmgangleInput:180*a.coursePlan.tackvmgangle/Math.PI,gybevmgangle:a.coursePlan.gybevmgangle,gybevmgangleInput:180*a.coursePlan.gybevmgangle/Math.PI,marksDb:a.coursePlan.marksDb,position:a.coursePlan.position,lat:"",lon:"",geostate:"init",displayChart:"true"==window.localStorage.cowes2018DisplayChart,displayInputs:"true"===window.localStorage.cowes2018DisplayInputs,displayRacePlan:"true"===window.localStorage.cowes2018DisplayRacePlan},o(n,"displayChart","true"===window.localStorage.cowes2018DisplayChart),o(n,"displayMarks","true"===window.localStorage.cowes2018DisplayMarks),o(n,"markradius",+window.localStorage.cowes2018Markradius||50),n),a.coursePlan.update(a.state,{force:!0}),console.log("Initial state ",a.state.route.slice()),a.changeGwd=a.changeGwd.bind(a),a.changeCourse=a.changeCourse.bind(a),a.getLocation=a.getLocation.bind(a),a.positionError=a.positionError.bind(a),a.changeGeostate=a.changeGeostate.bind(a),a.changeMarkradius=a.changeMarkradius.bind(a),a.changeGws=a.changeGws.bind(a),a.changeCurrent=a.changeCurrent.bind(a),a.changePolar=a.changePolar.bind(a),a.changeCurrentDirection=a.changeCurrentDirection.bind(a),a.changeTackVMGAngle=a.changeTackVMGAngle.bind(a),a.changeGybeVMGAngle=a.changeGybeVMGAngle.bind(a),a.toggleMarks=a.toggleMarks.bind(a),a.toggleChart=a.toggleChart.bind(a),a.toggleRacePlan=a.toggleRacePlan.bind(a),a.toggleInputs=a.toggleInputs.bind(a),a.downloadTrack=a.downloadTrack.bind(a),a.resetTrack=a.resetTrack.bind(a),a.nextWp=a.nextWp.bind(a),a.prevWp=a.prevWp.bind(a);return navigator.geolocation&&navigator.geolocation.watchPosition(a.getLocation,a.positionError,{enableHighAccuracy:!0,maximumAge:3e4,timeout:27e3}),a}return l(e,t),s(e,[{key:"loadHash",value:function(){var t=window.location.hash;if(void 0!==t&&t.length>1){var e=t.substring(1).split(";");console.log("Hash is ",t,e);for(var n=0;n<e.length;n++){var a=e[n].split("=");"reset"==a[0]?(console.log("Reset settings"),window.localStorage.clear()):void 0!==S[a[0]]&&(window.localStorage[S[a[0]]]=a[1],console.log(a[0],S[a[0]]," set to ",a[1]))}}}},{key:"getHash",value:function(){var t=[];for(var e in S)t.push(e+"="+window.localStorage[S[e]]);return"#"+t.join(";")}},{key:"componentDidMount",value:function(){var t=this;if(void 0!==this.gmap){var e=this;this.gmap.init(function(){e.gmap.update(t.state)})}}},{key:"componentWillReceiveProps",value:function(t){}},{key:"componentWillUnmount",value:function(){}},{key:"positionError",value:function(t){this.setState({geostate:"no fix"+t.message}),console.log("Position Fix"+t)}},{key:"getLocation",value:function(t){if("user"!==!this.state.geostate){console.log("Got position",t);var e={accuracy:t.coords.accuracy,altitude:t.coords.altitude,altitudeAccuracy:t.coords.altitudeAccuracy,heading:t.coords.heading*Math.PI/180,speed:t.coords.speed,timestamp:t.timestamp,latlon:new f.LatLonSpherical(t.coords.latitude,t.coords.longitude)},n={lat:f.Dms.toLat(e.latlon.lat,"dm",3),lon:f.Dms.toLon(e.latlon.lon,"dm",3),position:e,geostate:"fix"};this.track.update(e),this.coursePlan.update(n,{position:e}),window.localStorage.cowes2018nextmarkidx=this.coursePlan.nextmarkidx,console.log("Possition Update"),this.setState(n)}}},{key:"mToDisplay",value:function(t){return void 0===t||null===t?"":t<100?t.toFixed(0)+" m":k(t).toFixed(1)+" nm"}},{key:"radToDisplay",value:function(t){return void 0===t||null===t?"":y(t).toFixed(0)+"°"}},{key:"symToDisplay",value:function(t){return void 0!==this.bouys[t]?this.bouys[t]:t}},{key:"msToDisplay",value:function(t){return void 0===t||null===t?"0.0":x(t).toFixed(2)+" kn"}},{key:"durationToDisplay",value:function(t){return void 0===t||null===t?"-":("0000"+Math.floor(t/3600)).substr(-3)+":"+("0000"+Math.floor(t%3600/60)).substr(-2)+":"+("0000"+Math.floor(t%60)).substr(-2)}},{key:"degToDisplay",value:function(t){return void 0===t||null===t?"-":t.toFixed(1)}},{key:"renderRouteTable",value:function(){var t=[],e=-1;void 0!==this.state.nextmark&&(e=this.state.nextmark.idx);for(var n=0;n<this.state.route.length;n++){var a=this.state.route[n];void 0===a.wp?t.push(d.default.createElement("tr",{key:n},d.default.createElement("td",null,e==n?"⇨":""),d.default.createElement("td",null,a.id),d.default.createElement("td",null),d.default.createElement("td",null,"???"),d.default.createElement("td",null),d.default.createElement("td",null),d.default.createElement("td",null),d.default.createElement("td",null),d.default.createElement("td",null),d.default.createElement("td",null),d.default.createElement("td",null),d.default.createElement("td",null),d.default.createElement("td",null))):t.push(d.default.createElement("tr",{key:n},d.default.createElement("td",null,e==n?"⇨":""),d.default.createElement("td",null,a.wp.name),d.default.createElement("td",null,a.rounding),d.default.createElement("td",null,a.wp.desc),d.default.createElement("td",{className:"bouy"+a.wp.sym},this.symToDisplay(a.wp.sym)),d.default.createElement("td",null,a.wp.latlon.toString("dm",3)),d.default.createElement("td",null,this.radToDisplay(a.btw)),d.default.createElement("td",null,this.mToDisplay(a.dtw)),d.default.createElement("td",null,this.mToDisplay(a.dist)),d.default.createElement("td",null,this.radToDisplay(a.twa)),d.default.createElement("td",null,this.msToDisplay(a.polars.stw)),d.default.createElement("td",null,this.radToDisplay(a.polars.targets.twa)),d.default.createElement("td",null,this.msToDisplay(a.polars.targets.stw))))}return d.default.createElement("table",{className:"route"},d.default.createElement("tbody",null,d.default.createElement("tr",{key:"header"},d.default.createElement("th",null,"Next"),d.default.createElement("th",null,"ID"),d.default.createElement("th",null,"Rounding"),d.default.createElement("th",null,"Name"),d.default.createElement("th",null,"Bouy"),d.default.createElement("th",null,"latlon"),d.default.createElement("th",null,"BTW(M)"),d.default.createElement("th",null,"DTW"),d.default.createElement("th",null,"Total"),d.default.createElement("th",null,"TWA"),d.default.createElement("th",null,"STW"),d.default.createElement("th",null,"TTWA"),d.default.createElement("th",null,"TSTW")),t))}},{key:"renderMarksTable",value:function(){var t=[];for(var e in this.state.marksDb){var n=this.state.marksDb[e];t.push(d.default.createElement("tr",{key:n.name},d.default.createElement("td",null,n.name),d.default.createElement("td",null,n.desc),d.default.createElement("td",{className:"bouy"+n.sym},this.symToDisplay(n.sym)),d.default.createElement("td",null,n.latlon.toString("dm",3))))}return d.default.createElement("table",{className:"marks"},d.default.createElement("tbody",null,d.default.createElement("tr",{key:"header"},d.default.createElement("th",null,"Name"),d.default.createElement("th",null,"Desc"),d.default.createElement("th",null,"Type"),d.default.createElement("th",null,"Position")),t))}},{key:"renderCurrent",value:function(){if(console.log("Render Current ",this.state.nextmark),0===this.state.route.length||void 0==this.state.nextmark.idx||void 0==this.state.route[this.state.nextmark.idx])return d.default.createElement("div",null,"No route defined");var t;return t=this.state.nextmark.tackll?this.state.nextmark.tackll:this.state.nextmark.gybell?this.state.nextmark.gybell:{port:{btw:void 0,dtw:void 0,ttg:void 0},stbd:{btw:void 0,dtw:void 0,ttg:void 0}},d.default.createElement("table",{className:"current"},d.default.createElement("tbody",null,d.default.createElement("tr",null,d.default.createElement("th",null,"ID"),d.default.createElement("th",null,"DTW"),d.default.createElement("th",null,"BTW"),d.default.createElement("th",null,"WCV"),d.default.createElement("th",null,"TTG"),d.default.createElement("th",null,"PBTW"),d.default.createElement("th",null,"PDTW"),d.default.createElement("th",null,"PTTG"),d.default.createElement("th",null,"SBTW"),d.default.createElement("th",null,"SDTW"),d.default.createElement("th",null,"STTG")),d.default.createElement("tr",null,d.default.createElement("td",null,this.state.nextmark.id),d.default.createElement("td",null,this.mToDisplay(this.state.nextmark.dtw)),d.default.createElement("td",null,this.radToDisplay(this.state.nextmark.btw)),d.default.createElement("td",null,this.msToDisplay(this.state.nextmark.wcv)),d.default.createElement("td",null,this.durationToDisplay(this.state.nextmark.ttg)),d.default.createElement("td",null,this.radToDisplay(t.port.btw)),d.default.createElement("td",null,this.mToDisplay(t.port.dtw)),d.default.createElement("td",null,this.durationToDisplay(t.port.ttg)),d.default.createElement("td",null,this.radToDisplay(t.stbd.btw)),d.default.createElement("td",null,this.mToDisplay(t.stbd.dtw)),d.default.createElement("td",null,this.durationToDisplay(t.stbd.ttg)))))}},{key:"changeGwd",value:function(t){var e=t.target.value,n={gwdInput:e};window.localStorage.cowes2018gwd=e,this.coursePlan.update(n,{gwd:+e*Math.PI/180}),this.setState(n)}},{key:"changeGws",value:function(t){var e=t.target.value,n={gwsInput:e};window.localStorage.cowes2018gws=e,this.coursePlan.update(n,{gws:.514444*+e}),this.setState(n)}},{key:"changeCurrent",value:function(t){var e=t.target.value,n={currentInput:e};window.localStorage.cowes2018current=e,this.coursePlan.update(n,{current:.514444*+e}),this.setState(n)}},{key:"changeCurrentDirection",value:function(t){var e=t.target.value,n={currentDirectionInput:e};window.localStorage.cowes2018currentDirection=e,this.coursePlan.update(n,{currentDirection:+e*Math.PI/180}),this.setState(n)}},{key:"changeTackVMGAngle",value:function(t){var e=t.target.value,n={tackvmgangleInput:e};window.localStorage.cowes2018Tackangle=e,this.coursePlan.update(n,{tackvmgangle:+e*Math.PI/180}),this.setState(n)}},{key:"changeGybeVMGAngle",value:function(t){var e=t.target.value,n={gybevmgangleInput:e};window.localStorage.cowes2018Gybeangle=e,this.coursePlan.update(n,{gybevmgangle:+e*Math.PI/180}),this.setState(n)}},{key:"changeCourse",value:function(t){var e=t.target.value,n={course:e};window.localStorage.cowes2018Course=e,this.coursePlan.update(n,{course:e}),this.setState(n)}},{key:"changeMarkradius",value:function(t){var e=t.target.value,n={markradius:e};window.localStorage.cowes2018Markradius=e,this.coursePlan.update(n,{markradius:+e}),this.setState(n)}},{key:"changeGeostate",value:function(t){this.setState({geostate:t.target.value}),navigator.geolocation&&navigator.geolocation.getCurrentPosition(this.getLocation,this.positionError,{enableHighAccuracy:!0,maximumAge:3e4,timeout:27e3})}},{key:"addStateListener",value:function(t){this.stateLiseners.push(t)}},{key:"removeStateListener",value:function(t){for(var e=[],n=0;n<this.stateLiseners.length;n++)this.stateLiseners[n]!==t&&e.push(this.stateLiseners[n]);console.log("New Listerners are ",e),this.stateLiseners=e}},{key:"notifyStateListeners",value:function(){for(var t=0;t<this.stateLiseners.length;t++)this.stateLiseners[t].update(this.state)}},{key:"nextWp",value:function(){var t={},e=this.state.nextmark.idx||0;e++,this.coursePlan.update(t,{nextmarkidx:e}),window.localStorage.cowes2018nextmarkidx=this.coursePlan.nextmarkidx,this.setState(t)}},{key:"prevWp",value:function(){var t={},e=this.state.nextmark.idx||0;e--,this.coursePlan.update(t,{nextmarkidx:e}),window.localStorage.cowes2018nextmarkidx=this.coursePlan.nextmarkidx,this.setState(t)}},{key:"toggleMarks",value:function(){window.localStorage.cowes2018DisplayMarks=!this.state.displayMarks,this.setState({displayMarks:!this.state.displayMarks})}},{key:"displayMarks",value:function(){return this.state.displayMarks?(void 0!==this.gmap&&this.gmap.plotMarks(this.state.marksDb),d.default.createElement("div",null,d.default.createElement("div",{className:"headding",onClick:this.toggleMarks},"▿"," Available Marks"),this.renderMarksTable())):(void 0!==this.gmap&&this.gmap.clearMarks(),d.default.createElement("div",null,d.default.createElement("div",{className:"headding",onClick:this.toggleMarks},"▹"," Available Marks")))}},{key:"toggleChart",value:function(){window.localStorage.cowes2018DisplayChart=!this.state.displayChart,this.setState({displayChart:!this.state.displayChart})}},{key:"displayChart",value:function(){return this.state.displayChart?void 0===this.gmap?d.default.createElement("div",null,d.default.createElement("div",{className:"headding",onClick:this.toggleChart},"▿"," Chart"),d.default.createElement(h.default,{mapid:"osmap",app:this})):d.default.createElement("div",null,d.default.createElement("div",{className:"headding",onClick:this.toggleChart},"▿"," Chart"),d.default.createElement("div",{id:"map"})):d.default.createElement("div",null,d.default.createElement("div",{className:"headding",onClick:this.toggleChart},"▹"," Chart"),d.default.createElement("div",{id:"map",className:"hidden"}))}},{key:"toggleRacePlan",value:function(){window.localStorage.cowes2018DisplayRacePlan=!this.state.displayRacePlan,this.setState({displayRacePlan:!this.state.displayRacePlan})}},{key:"displayRacePlan",value:function(){return this.state.displayRacePlan?d.default.createElement("div",null,d.default.createElement("div",{className:"headding",onClick:this.toggleRacePlan},"▿"," Race Plan"),this.renderRouteTable()):d.default.createElement("div",null,d.default.createElement("div",{className:"headding",onClick:this.toggleRacePlan},"▹"," Race Plan"))}},{key:"toggleInputs",value:function(){window.localStorage.cowes2018DisplayInputs=!this.state.displayInputs,this.setState({displayInputs:!this.state.displayInputs})}},{key:"changePolar",value:function(t){var e={polarName:t.target.value};this.coursePlan.update(e,{polarName:t.target.value}),window.localStorage.cowes2018polarname=t.target.value,this.setState(e)}},{key:"getPolarOptions",value:function(){for(var t=[],e=0;e<this.coursePlan.availablePolars.length;e++){var n=this.coursePlan.availablePolars[e];t.push(d.default.createElement("option",{key:n,value:n},n))}return d.default.createElement("select",{onChange:this.changePolar,value:this.state.polarName},t)}},{key:"displayInputs",value:function(){return this.state.displayInputs?d.default.createElement("div",null,d.default.createElement("div",{className:"headding",onClick:this.toggleInputs},"▿"," Inputs"),d.default.createElement("div",null,"Course ",d.default.createElement("input",{name:"course",type:"text",value:this.state.course,onChange:this.changeCourse}),d.default.createElement("a",{href:this.getHash()}," copy url to share "),d.default.createElement("button",{onClick:this.downloadTrack},"Download Track"),d.default.createElement("button",{onClick:this.resetTrack},"Reset Track")),d.default.createElement("div",null,d.default.createElement("span",null,"gwd:",d.default.createElement("input",{name:"gwd",type:"number",value:this.state.gwdInput,step:"1",min:"0",max:"359",onChange:this.changeGwd})),d.default.createElement("span",null,"gws:",d.default.createElement("input",{name:"gws",type:"number",value:this.state.gwsInput,min:"0",max:"100",onChange:this.changeGws})),d.default.createElement("span",null,"twd:",this.radToDisplay(this.state.twd)),d.default.createElement("span",null,"tws:",this.msToDisplay(this.state.tws))),d.default.createElement("div",null,d.default.createElement("span",null,"Current speed:",d.default.createElement("input",{name:"current",type:"number",value:this.state.currentInput,min:"0",max:"100",onChange:this.changeCurrent})),d.default.createElement("span",null,"dir:",d.default.createElement("input",{name:"currentdeg",type:"number",value:this.state.currentDirectionInput,step:"1",min:"0",max:"359",onChange:this.changeCurrentDirection}))),d.default.createElement("div",null,d.default.createElement("span",null,"Target VMG TWA Upwind:",d.default.createElement("input",{name:"tackvmgangleInput",type:"number",value:this.state.tackvmgangleInput,step:"1",min:"0",max:"90",onChange:this.changeTackVMGAngle})),d.default.createElement("span",null,"Downwind:",d.default.createElement("input",{name:"gybevmgangleInput",type:"number",value:this.state.gybevmgangleInput,step:"1",min:"90",max:"180",onChange:this.changeGybeVMGAngle}))),d.default.createElement("div",null,d.default.createElement("span",null,"WP Radius:",d.default.createElement("input",{name:"markradius",type:"number",value:this.state.markradius,min:"0",max:"100",onChange:this.changeMarkradius})),d.default.createElement("span",null,"Advance:",d.default.createElement("button",{onClick:this.prevWp},"Previous"),d.default.createElement("button",{onClick:this.nextWp},"Next"))),d.default.createElement("div",null,this.getPolarOptions())):d.default.createElement("div",null,d.default.createElement("div",{className:"headding",onClick:this.toggleInputs},"▹"," Inputs"))}},{key:"fixStatus",value:function(){return"fix"==this.state.geostate?"☉":"init"==this.state.geostate?"◌":"☁ "+this.state.geostate}},{key:"downloadTrack",value:function(){this.track.download()}},{key:"resetTrack",value:function(){this.track.deleteAll()}},{key:"render",value:function(){return this.notifyStateListeners(),d.default.createElement("div",{className:"course"},this.displayChart(),d.default.createElement("hr",null),d.default.createElement("div",null,d.default.createElement("span",null,"Position:",this.state.position.latlon.toString("dm",3)," ",this.fixStatus()),d.default.createElement("span",null,"SOG:",this.msToDisplay(this.state.position.speed)),d.default.createElement("span",null,"COG:",this.radToDisplay(this.state.position.heading)),d.default.createElement("span",null,"ts:",this.state.position.timestamp)),this.displayInputs(),this.renderCurrent(),this.displayRacePlan(),this.displayMarks(),d.default.createElement("div",{className:"headding"},"Weather Links"),d.default.createElement("a",{href:"https://weatherfile.com/GBR000014&wt=KTS"},"Lymington Starting Platform"),d.default.createElement("a",{href:"https://weatherfile.com/RPR000154&wt=KTS"},"Ryde Pier"),d.default.createElement("a",{href:"https://weatherfile.com/GBR00002&wt=KTS"},"Hurst Castle"),d.default.createElement("a",{href:"https://weatherfile.com/GBR00004&wt=KTS"},"Pool"))}}]),e}(d.default.Component);e.default=P},lSz5:function(t,e,n){"use strict";function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,n,a){return n&&t(e.prototype,n),a&&t(e,a),e}}(),r=function(){function t(){a(this,t),this.history="ts,lat,lon,cog,sog\n",this.currentPosition=[],this.fileNo=(Date.now()/9e5).toFixed(0),this.save=this.save.bind(this),setInterval(this.save,15e3)}return o(t,[{key:"update",value:function(t){this.currentPosition=[t.ts,t.latlon.lat,t.latlon.lon,t.heading,t.speed]}},{key:"save",value:function(){var t=Date.now();(Date.now()/9e5).toFixed(0)!==this.fileNo&&(this.history="ts,lat,lon,cog,sog\n"),this.currentPosition[0]=t,this.history=this.history+this.currentPosition.join(",")+"\n";this.fileNo;window.localStorage["cowes2018track"+this.fileNo]=this.history}},{key:"load",value:function(){var t=[];for(var e in window.localStorage)e.startsWith("cowes2018track")&&t.push(e);t.sort(),console.log(t);for(var n="",a=0;a<t.length;a++)n+=window.localStorage[t[a]];return console.log(n),n}},{key:"download",value:function(){var t=document.createElement("a");t.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(this.load())),t.setAttribute("download","track.csv"),t.style.display="none",document.body.appendChild(t),t.click(),document.body.removeChild(t)}},{key:"deleteAll",value:function(){for(var t in window.localStorage)t.startsWith("cowes2018track")&&(window.localStorage.removeItem(t),console.log("removed ",t))}}]),t}();e.default=r},o8UL:function(t,e,n){"use strict";function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,n,a){return n&&t(e.prototype,n),a&&t(e,a),e}}(),l=n("GiK3"),s=function(t){return t&&t.__esModule?t:{default:t}}(l),c=n("CXX0"),d=n("8cSO"),u=n("ItK/"),h=n("lVyT"),p=n("beD/"),g=n("yGLh"),w=function(t){function e(t){a(this,e);var n=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));n.app=t.app,n.mapid=t.mapid,n.arrow='data:image/svg+xml;utf8,<svg width="14px" height="10px" version="1.1" xmlns="http://www.w3.org/2000/svg"><path d="M0,0 L0,10 L14,5 L0,0 Z"/></svg>',n.arrow2='data:image/svg+xml;utf8,<svg width="15px" height="8px" version="1.1" xmlns="http://www.w3.org/2000/svg"><path d="M0,0 L0,8 L7,4 L0,0 Z"/><path d="M8,0 L8,8 L15,4 L8,0 Z"/></svg>',n.arrow3='data:image/svg+xml;utf8,<svg width="20px" height="6px" version="1.1" xmlns="http://www.w3.org/2000/svg"><path d="M0,0 L0,8 L6,4 L0,0 Z"/><path d="M7,0 L7,8 L13,4 L7,0 Z"/><path d="M14,0 L14,8 L20,4 L14,0 Z"/></svg>',n.portLLHDGStyle={style:[new p.Style({stroke:new p.Stroke({color:"red",width:1})}),new p.Style({text:new p.Text({text:"ll hdg",textAlign:"center",placement:"line",fill:new p.Fill({color:"red"}),font:"normal 12px Arial",textBaseline:"bottom"})}),new p.Style({image:new p.Icon({src:n.arrow,anchor:[.75,.5],fill:new p.Fill({color:"red"}),rotateWithView:!0})})],arrow:{id:2,offset:.5}},n.portLLCOGStyle={style:[new p.Style({stroke:new p.Stroke({color:"red",width:1})}),new p.Style({text:new p.Text({text:"ll track",textAlign:"center",placement:"line",fill:new p.Fill({color:"red"}),font:"normal 12px Arial",textBaseline:"bottom"})}),new p.Style({image:new p.Icon({src:n.arrow2,anchor:[.75,.5],fill:new p.Fill({color:"red"}),rotateWithView:!0})})],arrow:{id:2,offset:.5}},n.stbdLLHDGStyle={style:[new p.Style({stroke:new p.Stroke({color:"green",width:1})}),new p.Style({text:new p.Text({text:"ll hdg",textAlign:"center",placement:"line",fill:new p.Fill({color:"green"}),font:"normal 12px Arial",textBaseline:"bottom"})}),new p.Style({image:new p.Icon({src:n.arrow,anchor:[.75,.5],fill:new p.Fill({color:"green"}),rotateWithView:!0})})],arrow:{id:2,offset:.5}},n.stbdLLCOGStyle={style:[new p.Style({stroke:new p.Stroke({color:"green",width:1})}),new p.Style({text:new p.Text({text:"ll track",textAlign:"center",placement:"line",fill:new p.Fill({color:"green"}),font:"normal 12px Arial",textBaseline:"bottom"})}),new p.Style({image:new p.Icon({src:n.arrow2,anchor:[.75,.5],fill:new p.Fill({color:"green"}),rotateWithView:!0})})],arrow:{id:2,offset:.5}},n.tideStyle={style:[new p.Style({stroke:new p.Stroke({color:"cyan",width:1})}),new p.Style({text:new p.Text({text:"tide",textAlign:"center",placement:"line",fill:new p.Fill({color:"cyan"}),font:"normal 12px Arial",textBaseline:"bottom"})}),new p.Style({image:new p.Icon({src:n.arrow,anchor:[.75,.5],fill:new p.Fill({color:"cyan"}),rotateWithView:!0})})],arrow:{id:2,offset:1}},n.twdStyle={style:[new p.Style({stroke:new p.Stroke({color:"blue",width:2})}),new p.Style({text:new p.Text({text:"twd",textAlign:"center",placement:"line",fill:new p.Fill({color:"blue"}),font:"normal 12px Arial",textBaseline:"bottom"})}),new p.Style({image:new p.Icon({src:n.arrow,anchor:[.75,.5],fill:new p.Fill({color:"blue"}),rotateWithView:!0})})],arrow:{id:2,offset:1}},n.tideVectorStyle={style:[new p.Style({stroke:new p.Stroke({color:"cyan",width:1})}),new p.Style({text:new p.Text({text:"tide",textAlign:"center",placement:"line",fill:new p.Fill({color:"cyan"}),font:"normal 12px Arial",textBaseline:"bottom"})}),new p.Style({image:new p.Icon({src:n.arrow3,fill:new p.Fill({color:"cyan"}),anchor:[.75,.5],rotateWithView:!0})})],arrow:{id:2,offset:.5}},n.gwdStyle={style:[new p.Style({stroke:new p.Stroke({color:"green",width:1})}),new p.Style({text:new p.Text({text:"gwd",scale:1,textAlign:"center",font:"normal 12px Arial",fill:new p.Fill({color:"green"}),placement:"line",textBaseline:"bottom"})}),new p.Style({image:new p.Icon({src:n.arrow,anchor:[.75,.5],fill:new p.Fill({color:"green"}),rotateWithView:!0})})],arrow:{id:2,offset:1}},n.btwPortLLStyle={style:[new p.Style({stroke:new p.Stroke({color:"red",width:1})}),new p.Style({text:new p.Text({text:"ll track",scale:1,textAlign:"center",font:"normal 12px Arial",fill:new p.Fill({color:"red"}),placement:"line",textBaseline:"bottom"})})]},n.btwPortLLStyle2={style:[new p.Style({stroke:new p.Stroke({color:"red",width:1})})]},n.btwStbdLLStyle={style:[new p.Style({stroke:new p.Stroke({color:"green",width:1})}),new p.Style({text:new p.Text({text:"ll track",scale:1,textAlign:"center",font:"normal 12px Arial",fill:new p.Fill({color:"green"}),placement:"line",textBaseline:"bottom"})})]},n.btwStbdLLStyle2={style:[new p.Style({stroke:new p.Stroke({color:"green",width:1})})]},n.btwStyle={style:[new p.Style({stroke:new p.Stroke({color:"black",width:1})}),new p.Style({text:new p.Text({text:"btw",textAlign:"center",placement:"line",fill:new p.Fill({color:"black"}),font:"normal 12px Arial",textBaseline:"bottom"})}),new p.Style({image:new p.Icon({src:n.arrow,anchor:[.75,.5],fill:new p.Fill({color:"black"}),rotateWithView:!0})})],arrow:{id:2,offset:1}},n.cogStyle={style:[new p.Style({stroke:new p.Stroke({color:"green",width:1})}),new p.Style({text:new p.Text({text:"cog",textBaseline:"bottom",font:"normal 12px Arial",textAlign:"center",placement:"line"})}),new p.Style({image:new p.Icon({src:n.arrow,anchor:[.75,.5],rotateWithView:!0})})],arrow:{id:2,offset:1}};return n.boatStyle=[new p.Style({image:new p.Icon({anchor:[.5,.46],anchorXUnits:"fraction",anchorYUnits:"fraction",opacity:.75,rotation:0,src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAAtCAYAAABMIFARAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAN1wAADdcBQiibeAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAARkSURBVEjHrZbZbxtVFMbP3Fm9Jrbj2EJpklIIgSBB05AFNVKF0iCWh1JVSlGQVfF38FqJl0rwxluLQCpUoqgIJF55oKqikMILDQml0CZ2s7nxNjOeOwtn7HgyEy+x0x7Jtnx95zffueecb8xYlgXPKrjDNoyNjU2zlvUjY1lzd5aWfm61lxwCOiNa1k9nNzJh3jS/mxwdnT0SDEGjIsAPF8tyaKSwC/P3V/yCad6cOnVquiMYgkQfIbfO8UwwaRqVtV5VgdSDvwMcAvH3YNuwoCBceVEUYscJw7jXj5VKMJ7d6Qrq+hdtwSYnJl62TPPj2aDP516v1fz9zDrPW+YHqG7iUFjM7//0dLSbF12i3M2DhYBz6bS/i9LLLWF4t96Cqr49Gg62bJnxJ1kwGWYK9w82hfXHYpfHensYkTQuck0hh43+7uaGFKH0k4YwvAu7Xch/9GZvXGhnJma2t0iZkIt4nVQHO5FMvpUIhiAs8G2NTsAw4CWsLsbpOpjAcR8OxyLes2owt+6V8dxuIErphTrYbqEwOxTZh7WT6uv5vF2IdzwwzDuUV5REf1e4I5d4rlwGNIAYXt/jwF4bHJwbSiTMAw3fVryRz3PoKjMOjGfZ6YFIN9vqfJqtjxSLYkTXzzowRdOOR3wSexRDjFMKqOz5fVi53Bf1+5uqMFukH9c00Bmmz3HaUlmNVmBUc3WFBXekADwa6AHphWGA3C4MZDIw8+B+pWUsF0wlJO7AcB4DETQJ1QX7hfAwkZqHK5cuVb6rqgq3btyA7z//DFK/3923K2xeVCbZE0TwLSCwHMO65jGv62AkkjC/B7JDkiSYS6WAGXkVCpy3t7t13VaRJMN9fcPxUMhTuCzV4cTQUMMzeuXkSdgSRU9Vk1olo2Mk7PPFJcE72z04n6vL9xrCfltYgDBW0B0hw7DTChFV02QDDc9j2ywL3OYGfH31Krifq9evXQNp5S/o0TTPfjwzexPlcrJcFNn6FjsDJtz+6ku4+c11iIa7oJTLQf/6GpxfWa5rHVqDpbPZIppiXSPZC5MqPkAy6yA/zkCwWIKgVV0/GHswjVDDKOOrqUnYF+PzElpNLa12ArXfqW4Y8DRBqxOi2TCNdgBrlAIWgHGUHaxmp6G7lWGazFOmWVW2uLioaFgA3Tx6qnmuMl87lTIEBGF3R5bbOh+oB9l+pqCocgUm8vy/m4XikVJM45xKpvnQMUdCyN2tYqmj/6O1zesIwwNbdmA5RVnckku03VZwxxpaU5FllxxYQVH+TD/JHak//pMkWSHkngPDWH1cyEOrkWqm+qHPp9vXOzCsxKasUWK6vL3dVDcFQcCPf9zKQOK47ayidpSibd+k2haaB8YSZnWrQa95FB7IN4OV9O21hQem6MavC4/WaBEtuYiDL5sWKPZTCSelTFhQ0EBlVFLCl63IbtbbEXyWM8wfztnWbNn+u47Jf4s3n7JsDfayVdHC1E6NOVAQ3rSWEfweppnzwJ5F/A+qtt/7PxWM/AAAAABJRU5ErkJggg==",scale:.75})})],n}return r(e,t),i(e,[{key:"componentDidMount",value:function(){console.log("Attaching OpenSeamap ",this.mapid),this.map=new c.Map({target:this.mapid,layers:[new u.Tile({source:new d.OSM}),new u.Tile({source:new d.XYZ({url:"https://t1.openseamap.org/seamark/{z}/{x}/{y}.png"})})],view:new c.View({center:this.toOLCoord({lat:50.78783333,lon:-1.265}),zoom:11})}),this.tacticalOverlay=new u.Vector({title:"Tactical",source:new d.Vector({features:new c.Collection,useSpatialIndex:!1}),updateWhileAnimating:!0,updateWhileInteracting:!0}),this.map.addLayer(this.tacticalOverlay),this.vesselOverlay=new u.Vector({title:"Vessel",source:new d.Vector({features:new c.Collection,useSpatialIndex:!1}),updateWhileAnimating:!0,updateWhileInteracting:!0}),this.map.addLayer(this.vesselOverlay),this.marksOverlay=new u.Vector({title:"Marks",source:new d.Vector({features:new c.Collection,useSpatialIndex:!1}),updateWhileAnimating:!0,updateWhileInteracting:!0}),this.map.addLayer(this.marksOverlay),this.routeOverlay=new u.Vector({title:"Route",map:this.map,source:new d.Vector({features:new c.Collection,useSpatialIndex:!1}),updateWhileAnimating:!0,updateWhileInteracting:!0}),this.map.addLayer(this.routeOverlay),this.app.addStateListener(this),console.log("Layers ",this.map.getLayers()),this.update(this.app.state)}},{key:"componentWillReceiveProps",value:function(t){}},{key:"componentWillUnmount",value:function(){this.app.removeStateListener(this),this.marksShowing=!1,this.map=void 0}},{key:"toOLCoord",value:function(t){return(0,g.transform)([t.lon,t.lat],"EPSG:4326","EPSG:3857")}},{key:"plotRoute",value:function(t,e,n){if(void 0!=t&&void 0!==this.map&&this.plottedVersion!==e){var a=this.routeOverlay.getSource();a.clear(!0);for(var o,r=new h.LineString([],"XY"),i=(new c.Feature({geometry:r,name:"Route"}),0);i<t.length;i++){var l=t[i];void 0!==l.wp&&(void 0!==o&&this.updateOrcreateVector(a,o,l.wp.latlon,"to_"+l.wp.name,{style:[new p.Style({stroke:new p.Stroke({color:"blue",width:1})}),new p.Style({image:new p.Icon({src:this.arrow,anchor:[.75,.5],rotateWithView:!0})})],arrow:{id:1,offset:.5}}),this.updateOrCreateMaker(a,l.wp.latlon,l.id,this.getMarkStyle(l,n.id)),o=l.wp.latlon)}this.plottedVersion=e,this.plottedroute=t}}},{key:"getMarkStyle",value:function(t,e){return t.id===e?[new p.Style({image:new p.Circle({fill:new p.Fill({color:"rgba(255,0,0,0.8)"}),stroke:new p.Stroke({color:"black",width:1}),radius:5})}),new p.Style({text:new p.Text({text:t.name,offsetX:10,offsetY:10,scale:2,textAlign:"right"})})]:[new p.Style({image:new p.Circle({fill:new p.Fill({color:"rgba(0,255,0,0.1)"}),stroke:new p.Stroke({color:"black",width:1}),radius:5})}),new p.Style({text:new p.Text({text:t.name,offsetX:10,offsetY:10,scale:2,textAlign:"right"})})]}},{key:"plotMarks",value:function(t){if(void 0!==this.map&&!this.marksShowing){var e=this.marksOverlay.getSource();for(var n in t){var a=new c.Feature({name:t[n].name,geometry:new h.Point(this.toOLCoord(t[n].latlon))});a.setStyle(this.getMarkStyle(t[n],"")),e.addFeature(a)}this.marksShowing=!0}}},{key:"clearMarks",value:function(){void 0!==this.map&&(this.marksOverlay.getSource().clear(!0),this.marksShowing=!1)}},{key:"updateOrcreateVector",value:function(t,e,n,a,o){var r=t.getFeatureById(a);null!==r&&t.removeFeature(r),r=new c.Feature({geometry:new h.LineString([this.toOLCoord(e),this.toOLCoord(n)],"XY"),name:a});for(var i=[],l=o.style,s=0;s<l.length;s++){var d=l[s].clone();i.push(d)}return void 0!==o.arrow&&this.addArrow(r.getGeometry(),i,o.arrow),r.setStyle(i),r.setId(a),t.addFeature(r),r}},{key:"addArrow",value:function(t,e,n){t.forEachSegment(function(t,a){var o=a[0]-t[0],r=a[1]-t[1],i=Math.atan2(r,o),l=[t[0]+o*n.offset,t[1]+r*n.offset];e[n.id].setGeometry(new h.Point(l)),e[n.id].getImage().setRotation(-i)})}},{key:"updateOrCreateMaker",value:function(t,e,n,a){var o=t.getFeatureById(n);return null!==o?(o.getGeometry().setCoordinates(this.toOLCoord(e)),o.setStyle(a)):(o=new c.Feature({name:n,geometry:new h.Point(this.toOLCoord(e))}),o.setStyle(a),o.setId(n),t.addFeature(o)),o}},{key:"removeFeatures",value:function(t,e){for(var n=0;n<e.length;n++){var a=t.getFeatureById(e[n]);null!==a&&t.removeFeature(a)}}},{key:"plotLines",value:function(t,e){if(void 0!==this.map&&void 0!=t&&void 0!==t.wp&&t.routeVersion!==e){console.log("plotting laylines ",t),t.routeVersion=e,this.clearLines();var n=this.tacticalOverlay.getSource();this.updateOrcreateVector(n,t.portLLStart,t.wp.latlon,"PortLLGMC",this.portLLCOGStyle),this.updateOrcreateVector(n,t.stbdLLStart,t.wp.latlon,"StbdLLGMC",this.stbdLLCOGStyle),this.updateOrcreateVector(n,t.portLLStart,t.tidePoint,"PortLLHead",this.portLLHDGStyle),this.updateOrcreateVector(n,t.stbdLLStart,t.tidePoint,"StbdLLHead",this.stbdLLHDGStyle),this.updateOrcreateVector(n,t.tidePoint,t.wp.latlon,"TideVector",this.tideVectorStyle)}else console.log("not plotting laylines ")}},{key:"clearLines",value:function(){this.tacticalOverlay.getSource().clear(!0)}},{key:"plotCurrentMarker",value:function(t,e){if(void 0!==this.map){var n=this.marksOverlay.getSource();if(void 0===this.currentmarkerno){var a=this.plottedroute[t];void 0!==a&&(this.updateOrCreateMaker(n,a.wp.latlon,a.id,this.getMarkStyle(a,a.id)),a.routeVersion=void 0,this.markerVersion=e)}else if(this.currentmarkerno!==t||this.markerVersion==e){var o=this.plottedroute[this.currentmarkerno];void 0!==o&&(this.updateOrCreateMaker(n,o.wp.latlon,o.id,this.getMarkStyle(o,"")),o.routeVersion=void 0,this.markerVersion=e),this.clearLines();var a=this.plottedroute[t];void 0!==a&&(this.updateOrCreateMaker(n,a.wp.latlon,a.id,this.getMarkStyle(a,a.id)),a.routeVersion=void 0,this.markerVersion=e)}this.plotLines(this.plottedroute[t],e),this.currentmarkerno=t}}},{key:"plotBoat",value:function(t){if(void 0!==t.position&&void 0!==this.map){var e=this.vesselOverlay.getSource();this.position=t.position,this.boatStyle[0].getImage().setRotation(this.position.heading),this.updateOrCreateMaker(e,this.position.latlon,"Boat",this.boatStyle);var n=this.plottedroute[this.currentmarkerno];void 0!==n&&void 0!==n.wp?this.updateOrcreateVector(e,this.position.latlon,n.wp.latlon,"btw",this.btwStyle):this.removeFeatures(e,["btw"]);var a=void 0;if(void 0!==t.nextmark&&void 0!==t.nextmark.tackll?a=t.nextmark.tackll:void 0!==t.nextmark&&void 0!==t.nextmark.gybell&&(a=t.nextmark.gybell),void 0!==a?(console.log("Plotting Intersects"),void 0!==a.port&&null!==a.port.intersect.latlon?(this.updateOrcreateVector(e,this.position.latlon,a.port.intersect.latlon,"btwpi",this.btwStbdLLStyle),this.updateOrcreateVector(e,a.port.intersect.latlon,n.wp.latlon,"btwpm",this.btwPortLLStyle2)):this.removeFeatures(e,["btwpi","btwpm"]),void 0!==a.stbd&&null!==a.stbd.intersect.latlon?(this.updateOrcreateVector(e,this.position.latlon,a.stbd.intersect.latlon,"btwsi",this.btwPortLLStyle),this.updateOrcreateVector(e,a.stbd.intersect.latlon,n.wp.latlon,"btwsm",this.btwStbdLLStyle2)):this.removeFeatures(e,["btwsi","btwsm"])):(console.log("No Intersects required"),this.removeFeatures(e,["btwpi","btwpm","btwsi","btwsm"])),this.position.speed>.1){var o=this.position.latlon.destinationPoint(600*this.position.speed,180*this.position.heading/Math.PI);this.updateOrcreateVector(e,this.position.latlon,o,"cog",this.cogStyle)}else this.removeFeatures(e,["cog"]);var r=this.position.latlon.destinationPoint(1100,(t.twd+2*Math.PI)%(2*Math.PI)*180/Math.PI),i=r.destinationPoint(1e3,(t.twd-Math.PI+2*Math.PI)%(2*Math.PI)*180/Math.PI);this.updateOrcreateVector(e,r,i,"twd",this.twdStyle);var l=1e3;t.tws>.1&&(l=1e3*t.gws/t.tws);var s=this.position.latlon.destinationPoint(l+100,(t.gwd+2*Math.PI)%(2*Math.PI)*180/Math.PI),c=s.destinationPoint(l,(t.gwd-Math.PI+2*Math.PI)%(2*Math.PI)*180/Math.PI);this.updateOrcreateVector(e,s,c,"gwd",this.gwdStyle);var d=1e3;t.tws>.1&&(d=1e3*t.current/t.tws);var u=this.position.latlon.destinationPoint(d+100,(t.currentDirection+2*Math.PI)%(2*Math.PI)*180/Math.PI),h=u.destinationPoint(d,(t.currentDirection-Math.PI+2*Math.PI)%(2*Math.PI)*180/Math.PI);this.updateOrcreateVector(e,h,u,"tide",this.tideStyle)}}},{key:"update",value:function(t){console.log("Plotting state ",t),t.displayMarks?this.plotMarks(t.marksDb):this.clearMarks(),this.plotRoute(t.route,t.routeVersion,t.nextmark),void 0!==t.nextmark&&this.plotCurrentMarker(t.nextmark.idx,t.routeVersion),this.plotBoat(t)}},{key:"render",value:function(){return s.default.createElement("div",{id:this.mapid,className:"map"}," ")}}]),e}(s.default.Component);e.default=w},omrO:function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,n,a){return n&&t(e.prototype,n),a&&t(e,a),e}}(),i=n("Ki9h"),l=a(i),s=n("45oD"),c=n("BObV"),d=a(c),u=function(){function t(e){o(this,t),console.log("CoursePlan props ",e),this.course=e.course||"",this.gwd=+e.gwd||0,this.gws=+e.gws||0,this.twd=0,this.tws=0,this.polarName=e.polarName||"pogo1250",this.current=e.current||0,this.currentDirection=e.currentDirection||0,this.markradius=+e.markradius||50,this.tackvmgangle=+e.tackvmgangle||42*Math.PI/180,this.gybevmgangle=+e.gybevmgangle||142*Math.PI/180,this.calcWind({}),this.position=e.position||{accuracy:0,altitude:null,altitudeAccuracy:-1,heading:0,speed:0,timestamp:0,latlon:new s.LatLonSpherical(50.78783333,-1.265)},this.nextmarkidx=e.nextmarkidx||0,this.roundings={P:"port",S:"starboard",PP:"pass port",PS:"pass starboard",T:"pass through"},this.loadMarks(),this.nextmark={idx:-1,id:"",xte:null,dtw:null,btw:null,wcv:null,ttg:null,laylinebearing:null,laylinedistance:null,laylinettg:null},this.polars=new d.default,this.polars.init(this.polarName),this.availablePolars=this.polars.availablePolars}return r(t,[{key:"update",value:function(t,e){console.log("Update:",e);var n=!1,a=!1,o=!1;e.polarName&&(this.polars.init(e.polarName),this.polarName=e.polarName,n=!0),e.force&&(o=!0,n=!0),void 0!==e.markradius&&(this.markradius=e.markradius),void 0!==e.position&&(this.position=e.position,a=!0),void 0!==e.nextmarkidx&&e.nextmarkidx!==this.nextmarkidx&&(this.nextmarkidx=e.nextmarkidx,a=!0),void 0!==e.gwd&&e.gwd!==this.gwd&&(this.gwd=e.gwd,t.gwd=this.gwd,o=!0,n=!0),void 0!==e.gws&&e.gws!==this.gws&&(this.gws=e.gws,t.gws=this.gws,o=!0,n=!0),void 0!==e.current&&e.current!==this.current&&(this.current=e.current,t.current=this.current,o=!0,n=!0),void 0!==e.currentDirection&&e.currentDirection!==this.currentDirection&&(this.currentDirection=e.currentDirection,t.currentDirection=this.currentDirection,o=!0,n=!0),void 0!==e.course&&e.course!==this.course&&(this.course=e.course,n=!0),o&&this.calcWind(t),n?this.buildRoute(t):a&&this.updateNextmark(t)}},{key:"loadMarks",value:function(){this.marksDb={};for(var t={},e=l.default[0],n=0;n<e.length;n++)t[e[n]]=n;for(var n=1;n<l.default.length;n++){var e=l.default[n];this.marksDb[e[t.name]]={name:e[t.name],desc:e[t.desc],sym:e[t.sym],latlon:new s.LatLonSpherical(e[t.lat],e[t.lon])}}}},{key:"calcWind",value:function(t){var e=[];e=[Math.sin(this.gwd)*this.gws,Math.cos(this.gwd)*this.gws],e=[e[0]+Math.sin(this.currentDirection)*this.current,e[1]+Math.cos(this.currentDirection)*this.current],0===e[0]&&0===e[1]?(this.twd=this.gwd,this.tws=this.gws):(this.twd=(Math.atan2(e[0],e[1])+2*Math.PI)%(2*Math.PI),this.tws=Math.sqrt(e[0]*e[0]+e[1]*e[1])),t.twd=this.twd,t.tws=this.tws,t.gws=this.gws,t.gwd=this.gwd,t.current=this.current,t.currentDirection=this.currentDirection}},{key:"buildRoute",value:function(t){var e=[],n=this.course.trim().replace("\n",",").split(",");console.log("Building route for ",this.course," as ",n);for(var a=0;a<n.length;a++){var o=n[a].toUpperCase();if(""!=o){var r=this.marksDb[o.substring(0,2)],i=void 0;void 0!==r&&(i=r.name);var l={id:o.substring(0,2),spec:o,name:i,rounding:this.roundings[o.substring(2)],wp:r};e.push(l)}else console.log("ID is empty ",o)}var s=0;this.calcBTWDTW(e[0],this.position);for(var a=1;a<e.length;a++)e[a].dist=s,this.calcBTWDTW(e[a],e[a-1].wp),s+=e[a].dtw;this.route=e,this.updateDynamic(),this.updateNextmark(t),t.route=this.route,t.routeVersion=Date.now()}},{key:"calcBTWDTW",value:function(t,e){void 0!==e&&void 0!==t&&void 0!==t.wp&&(t.dtw=e.latlon.rhumbDistanceTo(t.wp.latlon),t.btw=e.latlon.rhumbBearingTo(t.wp.latlon)*Math.PI/180)}},{key:"toRelativeAngle",value:function(t){return t>Math.PI?t-2*Math.PI:t<-Math.PI?t+2*Math.PI:t}},{key:"updateDynamic",value:function(){if(this.route.length>0){this.calcBTWDTW(this.route[0],this.position);for(var t=0;t<this.route.length;t++){var e=this.route[t];void 0!==e&&void 0!==e.wp&&(e.twa=this.toRelativeAngle(this.twd-e.btw),e.polars=this.polars.calc(this.tws,e.twa),e.tidePoint=e.wp.latlon.destinationPoint(300*this.current,this.toDeg(this.currentDirection+Math.PI)),e.twa<Math.PI/2&&e.twa>-Math.PI/2?(e.stbdLLStart=e.tidePoint.destinationPoint(300*e.polars.targets.stw,this.toDeg(this.twd-this.tackvmgangle+Math.PI)),e.portLLStart=e.tidePoint.destinationPoint(300*e.polars.targets.stw,this.toDeg(this.twd+this.tackvmgangle+Math.PI)),e.tack=!0,e.stbdLLBTW=e.stbdLLStart.rhumbBearingTo(e.wp.latlon)*Math.PI/180,e.portLLBTW=e.portLLStart.rhumbBearingTo(e.wp.latlon)*Math.PI/180):(e.stbdLLStart=e.tidePoint.destinationPoint(300*e.polars.targets.stw,this.toDeg(this.twd-this.gybevmgangle+Math.PI)),e.portLLStart=e.tidePoint.destinationPoint(300*e.polars.targets.stw,this.toDeg(this.twd+this.gybevmgangle+Math.PI)),e.tack=!1,e.stbdLLBTW=e.stbdLLStart.rhumbBearingTo(e.wp.latlon)*Math.PI/180,e.portLLBTW=e.portLLStart.rhumbBearingTo(e.wp.latlon)*Math.PI/180),e.twd=this.twd,e.tws=this.tws,e.gwd=this.gwd,e.gws=this.gws,e.tackvmgangle=this.tackvmgangle,e.gybevmgangle=this.gybevmgangle,e.twdDeg=180*e.twd/Math.PI,e.gwdDeg=180*e.gwd/Math.PI,e.twaDeg=180*e.twa/Math.PI,e.stbdLLBTWDeg=180*e.stbdLLBTW/Math.PI,e.portLLBTWDeg=180*e.portLLBTW/Math.PI,e.tackvmgangleDeg=180*e.tackvmgangle/Math.PI,e.gybevmgangleDeg=180*e.gybevmgangle/Math.PI)}}}},{key:"updateNextmark",value:function(t){var e=t.route||this.route;if(0!==e.length){this.updateDynamic(e);this.nextmarkidx;(void 0===this.nextmarkidx||this.nextmarkidx<0)&&(this.nextmarkidx=0),this.nextmark.advancewp&&this.nextmarkidx++,this.nextmarkidx>=e.length&&(this.nextmarkidx=e.length-1);var n=e[this.nextmarkidx],a=e[this.nextmarkidx].wp,o={idx:this.nextmarkidx,id:e[this.nextmarkidx].id,xte:null,dtw:null,btw:null,ttg:null,wcv:null};if(void 0!==this.position&&void 0!==a){o.dtw=this.position.latlon.rhumbDistanceTo(a.latlon),o.btw=this.position.latlon.rhumbBearingTo(a.latlon)*Math.PI/180,o.twa=this.toRelativeAngle(this.twd-o.btw);var r=void 0;o.dtw<this.markradius&&(o.advancewp=!0),void 0!=this.position.speed&&void 0!==this.position.heading&&(r=Math.cos(o.btw-this.position.heading),o.wcv=this.position.speed*r,o.ttg=o.dtw/o.wcv);var i,l;if(Math.abs(o.twa)<this.tackvmgangle&&void 0!==n.portLLBTW){i=this.tackvmgangle,o.tackll=l={port:{btw:n.portLLBTW},stbd:{btw:n.stbdLLBTW}};var s=(2*Math.PI+l.port.btw-a.btw)%2*Math.PI;s<2*i?l.between=!0:s<Math.PI-i?l.stdbover=!0:l.portover=!0,this.calcIntesects(l,a)}else if(Math.abs(o.twa)>this.gybevmgangle&&void 0!==n.portLLBTW){i=this.gybevmgangle,o.gybell=l={port:{btw:n.portLLBTW},stbd:{btw:n.stbdLLBTW}};var s=(2*Math.PI+l.port.btw-a.btw)%2*Math.PI;s<this.gybevmgangle?l.portover=!0:s<2*Math.PI-2*(Math.PI-this.gybevmgangle)?l.stdbover=!0:l.between=!0,this.calcIntesects(l,a)}}this.nextmark=o,t.nextmark=o}}},{key:"toDeg",value:function(t){return(t+2*Math.PI)%(2*Math.PI)*180/Math.PI}},{key:"calcIntesects",value:function(t,e){var n=t.port.intersect={latlon:s.LatLonSpherical.intersection(this.position.latlon,this.toDeg(t.stbd.btw),e.latlon,this.toDeg(t.port.btw-Math.PI))},a=t.stbd.intersect={latlon:s.LatLonSpherical.intersection(this.position.latlon,this.toDeg(t.port.btw),e.latlon,this.toDeg(t.stbd.btw-Math.PI))};null!==n.latlon&&(n.dti=this.position.latlon.rhumbDistanceTo(n.latlon),n.itw=n.latlon.rhumbDistanceTo(e.latlon),t.port.dtw=n.dti+n.itw,this.position.speed>.1?t.port.ttg=t.port.dtw/this.position.speed:t.port.ttg=-1),null!==a.latlon&&(a.dti=this.position.latlon.rhumbDistanceTo(a.latlon),a.itw=a.latlon.rhumbDistanceTo(e.latlon),t.stbd.dtw=a.dti+a.itw,this.position.speed>.1?t.stbd.ttg=t.stbd.dtw/this.position.speed:t.stbd.ttg=-1);var o=t.port.heading={latlon:s.LatLonSpherical.intersection(this.position.latlon,this.toDeg(this.position.heading),e.latlon,this.toDeg((t.port.btw-Math.PI)%(2*Math.PI)))},r=t.stbd.heading={latlon:s.LatLonSpherical.intersection(this.position.latlon,this.toDeg(this.position.heading),e.latlon,this.toDeg((t.stbd.btw-Math.PI)%(2*Math.PI)))};null!==r.latlon?(r.dti=this.position.latlon.rhumbDistanceTo(r.latlon),o.itw=r.latlon.rhumbDistanceTo(e.latlon),o.tti=r.dti/this.position.speed,o.ttw=(r.dti+r.itw)/this.position.speed):console.warn("No Intesect to starboard"),null!==o.latlon?(o.dti=this.position.latlon.rhumbDistanceTo(o.latlon),r.itw=o.latlon.rhumbDistanceTo(e.latlon),r.tti=o.dti/this.position.speed,r.ttw=(o.dti+o.itw)/this.position.speed):console.warn("No Intesect to port")}}]),t}();e.default=u},qYAe:function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var l=function(){function t(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,n,a){return n&&t(e.prototype,n),a&&t(e,a),e}}(),s=n("GiK3"),c=a(s),d=n("O27J"),u=n("SSVj"),h=a(u);n("GcMe");var p=function(t){function e(t){o(this,e);var n=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));n.props=t,n.sourcePriority=t.sourcePriority;return n.state={},n}return i(e,t),l(e,[{key:"componentDidMount",value:function(){}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){return console.log("Starting to render"),c.default.createElement("div",null,c.default.createElement(h.default,null))}}]),e}(c.default.Component),g=c.default.createElement(p,{sourcePriority:""});console.log("Now Running"),(0,d.render)(g,document.getElementById("react"))},y4E4:function(t,e,n){e=t.exports=n("FZ+f")(!1),e.push([t.i,"\n\n/*@font-face {\n   font-family: 'MyFont';\n   src:  url('./fontawesome-webfont.woff2') format('woff2'),\n         url('./fontawesome-webfont.woff') format('woff');\n   font-weight: 600;\n   font-style: normal;\n}*/\n\n/*\nbody {\n  font-family: \"Helvetica Neue\", Helvetica, Arial, sans-serif;\n}\n\n*/\n\n/*.checkcssworking {\n  color: red;\n  background: url('./icon.png');\n  font-family: 'MyFont';\n}*/\n\n/* SVG UI Day and cs_night */\n\n\n.hidden {\n  display: none;\n}\n\n\n.cs_normal {\n    stroke: black;\n    fill: black;\n    background-color: white;\n    color: black;\n}\n\n.cs_invert {\n    stroke: white;\n    fill: white;\n    background-color: black;\n    color: white;\n}\n\n.cs_night {\n    stroke: red;\n    fill: red;\n    background-color: black;\n    color: red;\n}\n\n\n\n\n\n\n\n.react-grid-layout {\n  position: relative;\n  transition: height 200ms ease;\n}\n.react-grid-item {\n  transition: all 200ms ease;\n  transition-property: left, top;\n}\n.react-grid-item.cssTransforms {\n  transition-property: transform;\n}\n.react-grid-item.resizing {\n  z-index: 1;\n  will-change: width, height;\n}\n\n.react-grid-item.react-draggable-dragging {\n  transition: none;\n  z-index: 3;\n  will-change: transform;\n}\n\n.react-grid-item.react-grid-placeholder {\n  background: red;\n  opacity: 0.2;\n  transition-duration: 100ms;\n  z-index: 2;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  -o-user-select: none;\n  user-select: none;\n}\n\n.react-grid-item > .react-resizable-handle {\n  position: absolute;\n  width: 20px;\n  height: 20px;\n  bottom: -6px;\n  right: -6px;\n  cursor: se-resize;\n}\n\n.cs_normal .react-grid-item > .react-resizable-handle::after {\n  content: \"\";\n  position: absolute;\n  right: 3px;\n  bottom: 3px;\n  width: 5px;\n  height: 5px;\n  border-right: 2px solid rgba(0, 0, 0, 0.4);\n  border-bottom: 2px solid rgba(0, 0, 0, 0.4);\n}\n\n.cs_invert .react-grid-item > .react-resizable-handle::after, .cs_night .react-grid-item > .react-resizable-handle::after {\n  content: \"\";\n  position: absolute;\n  right: 3px;\n  bottom: 3px;\n  width: 5px;\n  height: 5px;\n  border-right: 2px solid rgba(255, 0, 0, 0.4);\n  border-bottom: 2px solid rgba(255, 0, 0, 0.4);\n}\n\n\n.react-resizable {\n  position: relative;\n}\n.react-resizable-handle {\n  position: absolute;\n  width: 20px;\n  height: 20px;\n  bottom: 0;\n  right: 0;\n  background: url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2IDYiIHN0eWxlPSJiYWNrZ3JvdW5kLWNvbG9yOiNmZmZmZmYwMCIgeD0iMHB4IiB5PSIwcHgiIHdpZHRoPSI2cHgiIGhlaWdodD0iNnB4Ij48ZyBvcGFjaXR5PSIwLjMwMiI+PHBhdGggZD0iTSA2IDYgTCAwIDYgTCAwIDQuMiBMIDQgNC4yIEwgNC4yIDQuMiBMIDQuMiAwIEwgNiAwIEwgNiA2IEwgNiA2IFoiIGZpbGw9IiMwMDAwMDAiLz48L2c+PC9zdmc+');\n  background-position: bottom right;\n  padding: 0 3px 3px 0;\n  background-repeat: no-repeat;\n  background-origin: content-box;\n  box-sizing: border-box;\n  cursor: se-resize;\n}\n\n\n.settings {\n    position: absolute;\n    top: 40px;\n    left: 40px;\n    right: 40px;\n    bottom: 40px;\n    border: 1px solid rgb(204, 204, 204);\n    background: rgb(255, 255, 255);\n    overflow: auto;\n    border-radius: 10px;\n}\n.cs_invert .settings {\n    border: 1px solid rgb(204, 204, 204);\n    background: rgb(0, 0, 0);\n}\n\n.cs_night .settings {\n    border: 1px solid #c00;\n    background: rgb(0, 0, 0);\n}\n\n.settings_after-open {\n}\n.settings_before-close {\n}\n.settings_before-close {\n\n}\n.settingsOverlay {\n    position: fixed; \n    top: 0px; \n    left: 0px; \n    right: 0px; \n    bottom: 0px; \n}\n.cs_normal .settingsOverlay, .cs_night .settingsOverlay {\n    background-color: rgba(150, 150, 150, 0.75);\n}\n\n.cs_invert .settingsOverlay, .cs_night .settingsOverlay {\n    background-color: rgba(50, 50, 50, 0.75);\n}\n.settingsOverlay_after-open {\n\n}\n.settingsOverlay_before-close {\n}\n\n.globalSettingsButton {\n    position: absolute;\n    right: 10px;\n    top: 10px;        \n}\n\n.globalSettingsButton > button {\n    border: none;\n    background-color: inherit;\n    color: inherit;\n    font-size: 16px;\n    outline: none;\n}\n\n\n\n.settingsClose {\n    position: absolute;\n    right: 5px;\n    top: 5px;    \n    background-color: transparent;\n    color: inherit;\n}\n\n.settingsClose > button {\n    border: none;\n    outline: none;\n    background-color: transparent;\n    color: inherit;\n}\n\n.settingsApply {\n    position: absolute;\n    right: 136px;\n    bottom: 17px;\n}\n\n.settingsApply > input {\n    border: solid;\n    font-size: 16px;\n    background-color: #92b3e6;\n    border-color: #a0b2c1;\n    border-width: 1px;\n    border-radius: 5px;\n    padding-top: 8px;\n    padding-left: 30px;\n    padding-right: 30px;\n    padding-bottom: 8px;\n}\n\n.cs_invert .settingsApply > input {\n    background-color: #92b3e67a;\n    border-color: #a0b2c187;\n    color: inherit;\n}\n\n.cs_night .settingsApply > input {\n    background-color: #ff0000d4;\n    border-color: #f00;\n    color: #222;\n}\n\n\n.settingsCancel {\n    position: absolute;\n    right: 17px;\n    bottom: 17px;\n}\n\n.settingsCancel > button {\n    background-color: transparent;\n    color: inherit;\n    border: solid #797676;\n    font-size: 16px;\n    border-width: 1px;\n    border-radius: 5px;\n    padding-top: 8px;\n    padding-left: 30px;\n    padding-right: 30px;\n    padding-bottom: 8px;\n    outline: none;\n}\n\n.cs_invert .settingsCancel > button {\n    border-color: solid #aaa;\n}\n\n.cs_night .settingsCancel > button {\n    border-color: solid #a00;\n}\n\n.tabControls {\n    position: absolute;\n    font-size: 16px;\n    top: 5px;\n    right: 1px;\n}\n\n\n.tabControls > button {\n    border: none;\n    padding-left: 1px;\n    padding-right: 1px;\n    outline: none;\n    background-color: inherit;\n    color: inherit;\n}\n\n\n.dropDown {\n    position: absolute;\n    left: -1px;\n    top: 29px;\n    padding: 16px;\n    border-top: none;\n    border-left: solid 1px;\n    border-radius: 3px;\n    z-index: 3;\n    border-bottom: solid 1px;\n    border-right: solid 1px;\n    border-top-left-radius: 0px;\n    border-top-right-radius: 0px;\n    border-bottom-right-radius: 8px;\n    border-bottom-left-radius: 8px;\n    width: 129px;\n    padding: 2px;\n}\n\n.cs_normal .dropDown {\n    background-color: #ccccccf7;  \n}\n\n.cs_invert .dropDown {\n    background-color: #ccccccf7;  \n}\n.cs_night .dropDown {\n    background-color: #ccccccf7;  \n}\n\n.dropDown > button {\n    border: none;\n    background-color: inherit;\n    color: inherit;\n    outline: none;\n}\n\n\n.cellControls {\n    position: absolute;\n    font-size: 10px;\n    right: -8px;\n    top: -2px;\n    z-index: 1;\n}\n\n.cellControls > button {\n    border: none;  \n    background-color: transparent;\n    color: inherit;\n    outline: none;\n}\n\n.settingsForm {\n    border: 1px solid;\n    position: fixed;\n    left: 90px;\n    right: 25%;\n    top: 90px;\n    padding: 10px;\n    overflow: auto;\n    display: grid;\n    grid-gap: 11px;\n}\n\n.settingsForm label {\n    grid-column: 1 / 2;\n}\n\n.settingsForm input  {\n    grid-column: 2 / 2;\n    background-color: inherit;\n    color: inherit;\n}\n\n.cs_night .settingsForm input  {\n  border-color: #c00;\n}\n\n\n.settingsForm select {\n    grid-column: 2 / 2;\n    background-color: inherit;\n    color: inherit;\n}\n\n.cs_night .settingsForm select  {\n  border-color: #c00;\n}\n\n\n.settingsForm .help {\n    grid-column: 2 / 2;\n   font-size: 10px;\n}\n\n.settingsForm .settingsGroup {\n    display: grid;\n    grid-gap: 11px;\n    grid-column: 2 / 2;\n}\n\n.settingsForm .settingsGroup > div {\n    grid-column: 2 / 2;\n}\n\n\n/* Canvas based instruments */\n\n.cellContainer {\n  position: absolute;\n  top: 0px;\n  left: 0px; \n  right: 0px;  \n}\n\n.instrumentContainer {\n  font-family: sans-serif;\n  position: absolute;\n  top: 0px;\n  left: 0px; \n}\n.canvasHolder {\n  position: absolute;\n  top: 0px;\n  left: 0px; \n}\n.instrumentContainer canvas { \n  border: 1px solid black;\n  position: absolute;\n  top: 0px;\n  left: 0px; \n}\n.cs_invert .instrumentContainer canvas { \n  border: 1px solid #aaa;\n}\n.cs_night .instrumentContainer canvas { \n  border: 1px solid red;\n}\n.cs_normal .dataBoxFill {\n  background: rgba(215,215,215,0.7);      \n}\n\n.cs_invert .dataBoxFill, .cs_night .dataBoxFill  {\n  background: rgba(40,40,40,0.3);      \n}\n\n.dataBox {\n  position: absolute;\n  width: 100px;\n  height: 50px;\n  border-radius: 5px;   \n  border: 1px solid black;\n  font-size: 30px;\n  font-family: sans-serif;\n}\n\n.cs_invert .dataBox {\n  border: 1px solid white;\n}\n.cs_night .dataBox {\n  border: 1px solid red;\n}\n\n.dataBoxFull {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  border-radius: 5px;   \n  border: 1px solid black;\n  font-size: 93px;\n  font-family: sans-serif;\n}\n\n.cs_invert .dataBoxFull {\n  border: 1px solid #aaa;\n}\n\n.cs_night .dataBoxFull {\n  border: 1px solid red;\n}\n\n.dataBoxValue {\n  background-color: inherit;\n  color: inherit;\n  position: absolute;\n  top: 0px;\n  left: 0px;\n  right: 0px;\n  bottom: 0px;\n  overflow: hidden;\n  text-align: center;\n}\n\n\n.dataBoxUnits {\n  background-color: inherit;\n  color: inherit;\n  position: absolute;\n  bottom:  2px;\n  right:  2px; \n  font-size: 14px;\n}\n.dataBoxTitle {\n  background-color: inherit;\n  color: inherit;\n  position: absolute;\n  bottom:  2px;\n  left:  2px; \n  font-size: 14px;\n}\n.inputForm {\n  position: absolute;\n  right: 0px;\n}\n.inputForm > label {\n  display: block;\n}\n\n\n\n\n.stripChart .axis {\n    stroke-width: 1;\n}\n\n.cs_normal .stripChart .axis .tick line {\n    stroke: black;\n}\n.cs_invert .stripChart .axis .tick line {\n    stroke: white;\n}\n.cs_night .stripChart .axis .tick line {\n    stroke: red;\n}\n\n.cs_normal .stripChart .axis .tick text {\n    fill: black;\n    font-size: 0.7em;\n}\n.cs_invert .stripChart .axis .tick text {\n    fill: white;\n    font-size: 0.7em;\n}\n.cs_night .stripChart .axis .tick text {\n    fill: red;\n    font-size: 0.7em;\n}\n\n.cs_normal .stripChart .axis .domain {\n    fill: none;\n    stroke: black;\n}\n.cs_invert .stripChart .axis .domain {\n    fill: none;\n    stroke: white;\n}\n.cs_night .stripChart .axis .domain {\n    fill: none;\n    stroke: red;\n}\n\n.cs_normal .stripChart .group {\n    fill: none;\n    stroke: black;\n    stroke-width: 1.5;\n}\n.cs_invert .stripChart .group {\n    fill: none;\n    stroke: white;\n    stroke-width: 1.5;\n}\n.cs_night .stripChart .group {\n    fill: none;\n    stroke: red;\n    stroke-width: 1.5;\n}\n\n\n\n",""])}},["qYAe"]);